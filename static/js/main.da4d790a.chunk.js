(this.webpackJsonpnekoma=this.webpackJsonpnekoma||[]).push([[0],{100:function(e,t,n){e.exports=n(179)},106:function(e,t,n){},179:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(41),l=n.n(r),u=n(18),o=n(47),i=n(49),s=(n(106),n(107),n(36)),m=n(10),d=n.n(m),E=n(9),b=n(50),f=n(90),p=n.n(f),v=function(){return window.history.replaceState({},document.title,window.location.pathname)},g=c.a.createContext(),h=function(){return Object(a.useContext)(g)},k=function(){return c.a.createElement("div",{className:"container"},c.a.createElement(u.b,{to:"/products"},c.a.createElement("div",{className:"split left"},c.a.createElement("div",{className:"centered"},c.a.createElement("h1",null,"Products")))),c.a.createElement(u.b,{to:"/events"},c.a.createElement("div",{className:"split right"},c.a.createElement("div",{className:"centered"},c.a.createElement("h1",null,"Events")))))},j=function(){var e=h().loginWithRedirect;return c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"split left",onClick:function(){return e({})}},c.a.createElement("div",{className:"centered"},c.a.createElement("h1",null,"Log In"))),c.a.createElement("div",{className:"split right"},c.a.createElement("div",{className:"centered"},c.a.createElement("h1",null,"Sign Up"))))},O=n(61),w=function(e){return c.a.createElement("table",null,c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"Name"),c.a.createElement("th",null,"Username"),c.a.createElement("th",null,"Actions"))),c.a.createElement("tbody",null,e.users.length>0?e.users.map((function(t){return c.a.createElement("tr",{key:t.id},c.a.createElement("td",null,t.name),c.a.createElement("td",null,t.username),c.a.createElement("td",null,c.a.createElement("button",{onClick:function(){return e.editRow(t)},className:"button muted-button"},"Edit"),c.a.createElement("button",{onClick:function(){return e.deleteUser(t.id)},className:"button muted-button"},"Delete")))})):c.a.createElement("tr",null,c.a.createElement("td",{colSpan:3},"No users"))))},y=n(23),x=n(24),S=function(e){var t={id:null,name:"",username:""},n=Object(a.useState)(t),r=Object(E.a)(n,2),l=r[0],u=r[1],o=function(e){console.log(e);var t=e.target,n=t.name,a=t.value;u(Object(x.a)({},l,Object(y.a)({},n,a)))};return c.a.createElement("form",{onSubmit:function(n){n.preventDefault(),l.name&&l.username&&(e.addUser(l),u(t))}},c.a.createElement("label",null,"Name"),c.a.createElement("input",{type:"text",name:"name",value:l.name,onChange:o}),c.a.createElement("label",null,"Username"),c.a.createElement("input",{type:"text",name:"username",value:l.username,onChange:o}),c.a.createElement("button",null,"Add new user"))},N=function(e){var t=Object(a.useState)(e.currentUser),n=Object(E.a)(t,2),r=n[0],l=n[1];return Object(a.useEffect)((function(){l(e.currentUser)}),[e]),c.a.createElement("form",{onSubmit:function(t){t.preventDefault(),e.updateUser(r.id,r)}},c.a.createElement("label",null,"Name"),c.a.createElement("input",{type:"text",name:"name",value:r.name,onChange:function(e){var t=e.target,n=t.name,a=t.value;l(Object(x.a)({},r,Object(y.a)({},n,a)))}}),c.a.createElement("button",null,"Update user"),c.a.createElement("button",{onClick:function(){return e.setEditing(!1)},className:"button muted-button"},"Cancel"))},C=function(){var e=Object(a.useState)([{id:1,name:"Jake",username:"sk1llz7007"},{id:2,name:"Erik",username:"erik1125e"},{id:3,name:"Mara",username:"urmom"}]),t=Object(E.a)(e,2),n=t[0],r=t[1],l=Object(a.useState)(!1),u=Object(E.a)(l,2),o=u[0],i=u[1],s=Object(a.useState)({id:null,name:"",username:""}),m=Object(E.a)(s,2),d=m[0],b=m[1];return c.a.createElement("div",{className:"container"},c.a.createElement("h1",null,"CRUD App with Hooks"),c.a.createElement("div",{className:"flex-row"},c.a.createElement("div",{className:"flex-large"},o?c.a.createElement("div",null,c.a.createElement("h2",null,"Edit user"),c.a.createElement(N,{editing:o,setEditing:i,currentUser:d,updateUser:function(e,t){i(!1),r(n.map((function(n){return n.id===e?t:n})))}})):c.a.createElement("div",null,c.a.createElement("h2",null,"Add user"),c.a.createElement(S,{addUser:function(e){e.id=n.length+1,r([].concat(Object(O.a)(n),[e]))}}))),c.a.createElement("div",{className:"flex-large"},c.a.createElement("h2",null,"View users"),c.a.createElement(w,{users:n,editRow:function(e){i(!0),b({id:e.id,name:e.name,username:e.username})},deleteUser:function(e){r(n.filter((function(t){return t.id!==e})))}}))))},_=function(e){var t=e.component,n=e.path,r=Object(b.a)(e,["component","path"]),l=h(),u=l.loading,o=l.isAuthenticated,i=l.loginWithRedirect;Object(a.useEffect)((function(){if(!u&&!o){d.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.awrap(i({appState:{targetUrl:n}}));case 2:case"end":return e.stop()}}))}}),[u,o,i,n]);return c.a.createElement(s.a,Object.assign({path:n,render:function(e){return!0===o?c.a.createElement(t,e):null}},r))},U=n(42),$=n(25),D=n(34),R=n(35),I=n.n(R);function A(){var e=Object(D.a)(["\n  mutation($id: Int!, $enabled: Boolean!) {\n    update_products(where: { id: { _eq: $id } }, _set: { enabled: $enabled }) {\n      returning {\n        sku\n        enabled\n      }\n    }\n  }\n"]);return A=function(){return e},e}function L(){var e=Object(D.a)(["\n  mutation($id: Int!) {\n    delete_products(where: { id: { _eq: $id } }) {\n      returning {\n        sku\n      }\n    }\n  }\n"]);return L=function(){return e},e}function P(){var e=Object(D.a)(["\n  subscription {\n    products {\n      id\n      sku\n      name\n      category {\n        name\n      }\n      date_created\n      enabled\n      count\n      last_restock\n    }\n  }\n"]);return P=function(){return e},e}function T(){var e=Object(D.a)(["\n  subscription {\n    categories {\n      id\n      name\n      sku_code\n      products {\n        sku\n      }\n    }\n  }\n"]);return T=function(){return e},e}function z(){var e=Object(D.a)(["\n  mutation($sku: String!, $date: date!, $count: Int!) {\n    insert_restocks(objects: [{ sku: $sku, date: $date, count: $count }]) {\n      returning {\n        id\n      }\n    }\n  }\n"]);return z=function(){return e},e}function W(){var e=Object(D.a)(["\n  mutation(\n    $name: String!\n    $sku: String!\n    $count: Int!\n    $cat_id: Int!\n    $date_added: date!\n    $last_restock: date\n  ) {\n    insert_products(\n      objects: [\n        {\n          name: $name\n          sku: $sku\n          count: $count\n          category_id: $cat_id\n          date_created: $date_added\n          last_restock: $last_restock\n        }\n      ]\n    ) {\n      returning {\n        id\n      }\n    }\n  }\n"]);return W=function(){return e},e}function q(){var e=Object(D.a)(["\n  query {\n    categories {\n      id\n      name\n      sku_code\n      products {\n        sku\n      }\n    }\n  }\n"]);return q=function(){return e},e}function B(){var e=Object(D.a)(["\n  query {\n    products {\n      sku\n      name\n      category_id\n      category {\n        name\n      }\n      date_created\n      enabled\n      count\n      last_restock\n    }\n  }\n"]);return B=function(){return e},e}I()(B()),I()(q());var H=I()(W()),J=I()(z()),M=I()(T()),X=I()(P()),K=I()(L()),F=I()(A()),G=function(e){var t=Object($.b)(X),n=t.data,a=t.loading,r=t.error,l=Object($.a)(F),o=Object(E.a)(l,1)[0];return a?"Loading":r?"Error: ".concat(r.message):c.a.createElement("table",null,c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"SKU"),c.a.createElement("th",null,"Name"),c.a.createElement("th",null,"Date Added"),c.a.createElement("th",null,"Enabled"),c.a.createElement("th",null,"Count"),c.a.createElement("th",null,"Last Restock Date"),c.a.createElement("th",null))),c.a.createElement("tbody",null,n.products.length>0?n.products.map((function(t){return c.a.createElement("tr",{key:t.id},c.a.createElement("td",null,t.sku),c.a.createElement("td",null,t.name),c.a.createElement("td",null,t.date_created),c.a.createElement("td",null,c.a.createElement(U.a,{icon:t.enabled?"check":"times",onClick:function(){return o({variables:{id:t.id,enabled:!t.enabled}})}})),c.a.createElement("td",null,t.count),c.a.createElement("td",null,t.last_restock),c.a.createElement("td",null,c.a.createElement(u.b,{to:{pathname:"/products/".concat(t.id),state:{product:n.products.find((function(e){return e.id}))}}},c.a.createElement("button",null,"Details")),c.a.createElement("button",{onClick:function(){return e.editRow(t)},className:"button muted-button"},"Edit"),c.a.createElement("button",{onClick:function(){return console.log(e.deleteProduct({variables:{id:t.id}}))},className:"button muted-button"},"Delete")))})):c.a.createElement("tr",null,c.a.createElement("td",{colSpan:8},"No products"))))},V=n(53),Y=n.n(V),Q=function(e){var t=e.categoryList,n=new Date,r={id:null,sku:"",name:"",category:"",date:n.toLocaleDateString(),enabled:!0,count:"",restock:""},l=Object($.a)(H),u=Object(E.a)(l,1)[0],o=Object(a.useState)(r),i=Object(E.a)(o,2),s=i[0],m=i[1],d=Object(a.useState)(n),b=Object(E.a)(d,2),f=b[0],p=b[1],v=function(e){var t=e.target,n=t.name,a=t.value;m(Object(x.a)({},s,Object(y.a)({},n,a)))};return c.a.createElement("form",{autoComplete:"off",onSubmit:function(n){n.preventDefault(),s.name&&s.category&&s.count&&(s.sku=function(e){var n=t.find((function(t){return t.id===e})),a=n.products.map((function(e){return parseInt(e.sku.substring(4))})),c=a.length>0?Math.max.apply(Math,Object(O.a)(a))+1:1;return n.sku_code.concat(c)}(parseInt(s.category)),s.restock=s.date,u({variables:{name:s.name,sku:s.sku,count:parseInt(s.count),cat_id:parseInt(s.category),date_added:s.date,last_restock:s.restock}}),m(r),e.hide())}},c.a.createElement("div",{className:"flex-row"},c.a.createElement("div",{className:"flex-large"},c.a.createElement("label",null,"Name"),c.a.createElement("input",{type:"text",name:"name",value:s.name,onChange:v}),c.a.createElement("label",null,"Date Added"),c.a.createElement(Y.a,{name:"date",selected:f,onChange:function(e){p(e),m(Object(x.a)({},s,{date:e.toLocaleDateString()}))}})),c.a.createElement("div",{className:"flex-large"},c.a.createElement("label",null,"Category"),c.a.createElement("select",{name:"category",value:s.category,onChange:v},c.a.createElement("option",{value:""},"Select a category"),t.map((function(e){return c.a.createElement("option",{key:e.sku_code,value:e.id},e.name)}))),c.a.createElement("label",null,"Initial Count"),c.a.createElement("input",{type:"number",name:"count",value:s.count,onChange:v}))),c.a.createElement("button",null,"Save"))},Z=function(e){var t=h().logout;return c.a.createElement("div",{className:"header"},c.a.createElement(u.b,{to:e.back},c.a.createElement(U.a,{icon:"arrow-left",size:"2x"})),c.a.createElement("button",{onClick:function(){return t()}},"Log out"),c.a.createElement("h1",null,e.title))},ee=function(e){var t=e.isShowing,n=e.hide,a=e.title,r=e.content;return t?l.a.createPortal(c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"modal-overlay"}),c.a.createElement("div",{className:"modal-wrapper","aria-modal":!0,"aria-hidden":!0,tabIndex:-1,role:"dialog"},c.a.createElement("div",{className:"modal"},c.a.createElement("div",{className:"modal-header"},c.a.createElement("h2",null,a),c.a.createElement(U.a,{icon:"times","data-dismiss":"modal",onClick:n})),c.a.createElement("div",null,r)))),document.body):null},te=function(){var e=Object(a.useState)(!1),t=Object(E.a)(e,2),n=t[0],c=t[1];return{isShowing:n,toggle:function(){c(!n)}}},ne=function(e){var t=Object(a.useState)(e.currentProduct),n=Object(E.a)(t,2),r=n[0],l=n[1],u=function(e){var t=e.target,n=t.name,a=t.value;l(Object(x.a)({},r,Object(y.a)({},n,a)))};return Object(a.useEffect)((function(){l(e.currentProduct)}),[e]),c.a.createElement("form",{onSubmit:function(t){t.preventDefault(),console.log(r),e.updateProduct(r.id,r)}},c.a.createElement("div",{className:"flex-row"},c.a.createElement("div",{className:"flex-large"},c.a.createElement("label",null,"Name"),c.a.createElement("input",{type:"text",name:"name",value:r.name,onChange:u})),c.a.createElement("div",{className:"flex-large"},c.a.createElement("label",null,"Category"),c.a.createElement("select",{name:"category",value:r.category,onChange:u},c.a.createElement("option",{value:""},"Select a category"),[{name:"Lily",sku:"lil"},{name:"Raphie",sku:"rph"},{name:"Tiny",sku:"tny"}].map((function(e){return c.a.createElement("option",{key:e.sku,value:e.name},e.name)}))))),c.a.createElement("button",null,"Update product"),c.a.createElement("button",{onClick:function(){return e.cancelUpdate()},className:"button muted-button"},"Cancel"))},ae=function(){var e=function(){var e=Object($.b)(M),t=e.data,n=e.loading,a=e.error;return n?"Loading":a?"Error: ".concat(a.message):t?t.categories:"None found"}(),t=Object(a.useState)([]),n=Object(E.a)(t,2),r=n[0],l=n[1],u=te(),o=u.isShowing,i=u.toggle,s=Object($.a)(K),m=Object(E.a)(s,1)[0],d=Object(a.useState)(!1),b=Object(E.a)(d,2),f=b[0],p=b[1],v=Object(a.useState)({id:null,name:"",category:""}),g=Object(E.a)(v,2),h=g[0],k=g[1],j=c.a.createElement(Q,{hide:i,categoryList:e}),O=c.a.createElement(ne,{editing:f,cancelUpdate:function(){p(!1),i()},currentProduct:h,updateProduct:function(e,t){p(!1),i(),l(r.map((function(n){return n.id===e?t:n})))}});return c.a.createElement("div",{className:"full-container"},c.a.createElement(Z,{title:"Products",back:"/"}),c.a.createElement(ee,{isShowing:o,hide:i,title:f?"Editing "+h.name:"Add a new product",content:f?O:j}),c.a.createElement("div",{className:"container"},c.a.createElement("button",{onClick:i},"Add new product"),c.a.createElement("div",{className:"flex-large"},c.a.createElement(G,{editRow:function(e){p(!0),i(),k({id:e.id,name:e.name,category:e.category})},deleteProduct:m}))))},ce=function(e){var t=new Date,n={id:null,sku:"",date:t.toLocaleDateString(),count:""},r=Object($.a)(J),l=Object(E.a)(r,1)[0],u=Object(a.useState)(n),o=Object(E.a)(u,2),i=o[0],s=o[1],m=Object(a.useState)(t),d=Object(E.a)(m,2),b=d[0],f=d[1];return c.a.createElement("form",{autoComplete:"off",onSubmit:function(t){t.preventDefault(),i.count&&(i.sku=e.sku,l({variables:{sku:i.sku,count:parseInt(i.count),date:i.date}}),s(n),e.hide())}},c.a.createElement("div",{className:"flex-row"},c.a.createElement("div",{className:"flex-large"},c.a.createElement("label",null,"Count"),c.a.createElement("input",{type:"number",name:"count",value:i.count,onChange:function(e){var t=e.target,n=t.name,a=t.value;s(Object(x.a)({},i,Object(y.a)({},n,a)))}})),c.a.createElement("div",{className:"flex-large"},c.a.createElement("label",null,"Date Restocked"),c.a.createElement(Y.a,{name:"date",selected:b,onChange:function(e){f(e),s(Object(x.a)({},i,{date:e.toLocaleDateString()}))}}))),c.a.createElement("button",null,"Save"))},re=n(40),le=function(){var e=Object(s.f)(),t=Object(a.useState)({product:{},loading:!0}),n=Object(E.a)(t,2),r=n[0],l=n[1],u=te(),o=u.isShowing,i=u.toggle;Object(a.useEffect)((function(){!function(){var t;d.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:t=e.state.product,l(t);case 2:case"end":return n.stop()}}))}()}),[e.state.product]);var m=c.a.createElement(ce,{hide:i,sku:r.sku});return r.loading?c.a.createElement("div",null,"Loading..."):c.a.createElement("div",{className:"full-container"},c.a.createElement(Z,{title:r.sku,back:"/products"}),c.a.createElement(ee,{isShowing:o,hide:i,title:"Add a new restock for "+r.sku,content:m}),c.a.createElement("div",{className:"container"},c.a.createElement("h2",null,"Some data about ",r.name),c.a.createElement(re.d,null,c.a.createElement(re.b,null,c.a.createElement(re.a,null,"Info"),c.a.createElement(re.a,null,"Trends")),c.a.createElement(re.c,null,c.a.createElement("h2",null,"hello")),c.a.createElement(re.c,null,c.a.createElement("button",{onClick:i},"Add new restock"),c.a.createElement("h2",null,r.count)))))},ue=function(e){return c.a.createElement("table",null,c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"Name"),c.a.createElement("th",null,"Location"),c.a.createElement("th",null,"Date"),c.a.createElement("th",null))),c.a.createElement("tbody",null,e.events.length>0?e.events.map((function(t){return c.a.createElement("tr",{key:t.id},c.a.createElement("td",null,t.name),c.a.createElement("td",null,t.location),c.a.createElement("td",null,t.date),c.a.createElement("td",null,c.a.createElement(u.b,{to:"/events/"+t.id},c.a.createElement("button",null,"Sales")),c.a.createElement("button",{onClick:function(){return e.editRow(t)},className:"button muted-button"},"Edit"),c.a.createElement("button",{onClick:function(){return e.deleteEvent(t.id)},className:"button muted-button"},"Delete")))})):c.a.createElement("tr",null,c.a.createElement("td",{colSpan:4},"No events"))))},oe=function(){var e=Object(a.useState)([{id:1,name:"a convention",location:"los angeles",date:"april"},{id:2,name:"another convention",location:"sacramento",date:"february"},{id:3,name:"convention",location:"fresno",date:"asdf"},{id:4,name:"aon",location:"new york city",date:"date"},{id:5,name:"convosid",location:"seattle",date:"02/31/2020"},{id:6,name:"dallasconvention",location:"dallas",date:"9"},{id:7,name:"RTX",location:"austin",date:"twelve twelve twentytwenty"},{id:8,name:"zotzotzot",location:"irvine",date:"pog"},{id:9,name:"AX",location:"los angeles",date:"sad"}]),t=Object(E.a)(e,2),n=t[0],r=t[1];return c.a.createElement("div",{className:"full-container"},c.a.createElement(Z,{title:"Events",back:"/"}),c.a.createElement("div",{className:"container"},c.a.createElement("button",null,"Add new event"),c.a.createElement("div",{className:"flex-large"},c.a.createElement(ue,{events:n,deleteEvent:function(e){r(n.filter((function(t){return t.id!==e})))}}))))},ie=function(e){var t=e.match.params.id;console.log("fetching "+t);var n=[{id:1,day:2,items:["sku-1","sku-3"],total:20,cc:!0,female:!1}],r=Object(a.useState)({eventSales:{},loading:!0}),l=Object(E.a)(r,2),u=(l[0],l[1]);Object(a.useEffect)((function(){d.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:u(n);case 2:case"end":return e.stop()}}))}),[]);return c.a.createElement("div",{className:"full-container"},c.a.createElement(Z,{title:"Sales for event "+t,back:"/events"}),c.a.createElement("div",{className:"container"},c.a.createElement("button",null,"Add new sale"),c.a.createElement("div",{className:"flex-large"})))},se=function(){var e=h(),t=e.isAuthenticated;return e.loading?c.a.createElement("div",null,"Loading..."):c.a.createElement(s.c,null,!t&&c.a.createElement(s.a,{exact:!0,path:"/",component:j}),t&&c.a.createElement(s.a,{exact:!0,path:"/",component:k}),c.a.createElement(_,{path:"/users",component:C}),c.a.createElement(_,{exact:!0,path:"/products",component:ae}),c.a.createElement(_,{path:"/products/:id",component:le}),c.a.createElement(_,{exact:!0,path:"/events",component:oe}),c.a.createElement(_,{path:"/events/:id",component:ie}))},me=n(37),de=n(16),Ee=n(97),be=n(99),fe=n(17),pe=n(15),ve=n(4),ge=n(98),he=n(82),ke=n(20),je=Object(ke.a)();o.b.add(i.b,i.d,i.c,i.a),l.a.render(c.a.createElement(u.a,{basename:"/nekoma-frontend"},c.a.createElement((function(e){var t=e.children,n=e.onRedirectCallback,r=void 0===n?v:n,l=Object(b.a)(e,["children","onRedirectCallback"]),u=Object(a.useState)(),o=Object(E.a)(u,2),i=o[0],s=o[1],m=Object(a.useState)(),f=Object(E.a)(m,2),h=f[0],k=f[1],j=Object(a.useState)(),O=Object(E.a)(j,2),w=O[0],y=O[1],x=Object(a.useState)(!0),S=Object(E.a)(x,2),N=S[0],C=S[1],_=Object(a.useState)(!1),U=Object(E.a)(_,2),$=U[0],D=U[1];Object(a.useEffect)((function(){!function(){var e,t,n,a,c;d.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,d.a.awrap(p()(l));case 2:if(e=u.sent,y(e),!window.location.search.includes("code=")){u.next=10;break}return u.next=7,d.a.awrap(e.handleRedirectCallback());case 7:t=u.sent,n=t.appState,r(n);case 10:return u.next=12,d.a.awrap(e.isAuthenticated());case 12:if(a=u.sent,s(a),!a){u.next=19;break}return u.next=17,d.a.awrap(e.getUser());case 17:c=u.sent,k(c);case 19:C(!1);case 20:case"end":return u.stop()}}))}()}),[]);return c.a.createElement(g.Provider,{value:{isAuthenticated:i,user:h,loading:N,popupOpen:$,loginWithPopup:function(){var e,t,n=arguments;return d.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return e=n.length>0&&void 0!==n[0]?n[0]:{},D(!0),a.prev=2,a.next=5,d.a.awrap(w.loginWithPopup(e));case 5:a.next=10;break;case 7:a.prev=7,a.t0=a.catch(2),console.error(a.t0);case 10:return a.prev=10,D(!1),a.finish(10);case 13:return a.next=15,d.a.awrap(w.getUser());case 15:t=a.sent,k(t),s(!0);case 18:case"end":return a.stop()}}),null,null,[[2,7,10,13]])},handleRedirectCallback:function(){var e;return d.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return C(!0),t.next=3,d.a.awrap(w.handleRedirectCallback());case 3:return t.next=5,d.a.awrap(w.getUser());case 5:e=t.sent,C(!1),s(!0),k(e);case 9:case"end":return t.stop()}}))},getIdTokenClaims:function(){return w.getIdTokenClaims.apply(w,arguments)},loginWithRedirect:function(){return w.loginWithRedirect.apply(w,arguments)},getTokenSilently:function(){return w.getTokenSilently.apply(w,arguments)},getTokenWithPopup:function(){return w.getTokenWithPopup.apply(w,arguments)},logout:function(){return w.logout.apply(w,arguments)}}},t)}),{domain:he.domain,client_id:he.clientId,audience:"https://nekoma.auth0.com/api/v2/",redirect_uri:"https://tedzchu.com/nekoma-frontend/",onRedirectCallback:function(e){je.push(e&&e.targetUrl?e.targetUrl:window.location.pathname)}},c.a.createElement((function(e){var t=e.children,n=h(),a=n.loading,r=n.isAuthenticated,l=n.getTokenSilently;if(a)return c.a.createElement("div",null,"Loading...");var u=new Ee.a({uri:"wss://nekoma.herokuapp.com/v1/graphql",options:{reconnect:!0,connectionParams:function(){var e;return d.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!r){t.next=6;break}return t.next=3,d.a.awrap(l());case 3:t.t0=t.sent,t.next=7;break;case 6:t.t0=null;case 7:return e=t.t0,t.abrupt("return",{headers:{authorization:e?"Bearer ".concat(e):void 0}});case 9:case"end":return t.stop()}}))}}}),o=new be.a({uri:"https://nekoma.herokuapp.com/v1/graphql"}),i=new fe.a((function(e,t){return new pe.a((function(n){var a;return Promise.resolve(e).then((function(e){return function(e){var t;return d.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(!r){n.next=6;break}return n.next=3,d.a.awrap(l());case 3:n.t0=n.sent,n.next=7;break;case 6:n.t0=null;case 7:t=n.t0,e.setContext({headers:{authorization:t?"Bearer ".concat(t):void 0}});case 9:case"end":return n.stop()}}))}(e)})).then((function(){a=t(e).subscribe({next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)})})).catch(n.error.bind(n)),function(){a&&a.unsubscribe()}}))})),s=Object(fe.d)((function(e){var t=e.query,n=Object(ve.l)(t),a=n.kind,c=n.operation;return"OperationDefinition"===a&&"subscription"===c}),u,o),m=new me.c({link:fe.a.from([i,s]),cache:new ge.a});return c.a.createElement(de.a,{client:m},t)}),null,c.a.createElement(se,null)))),document.getElementById("root"))},82:function(e){e.exports=JSON.parse('{"domain":"nekoma.auth0.com","clientId":"KMLm5X41YHwmHjsgym52hw0aGHr64buE"}')}},[[100,1,2]]]);
//# sourceMappingURL=main.da4d790a.chunk.js.map