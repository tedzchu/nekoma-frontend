{"version":3,"sources":["react-auth0-spa.js","views/Home.js","views/Login.js","components/PrivateRoute.js","components/queries.js","components/tables/ProductTable.js","components/forms/products/AddProductForm.js","components/forms/products/EditProductForm.js","components/Header.js","components/modal/Modal.js","components/modal/useModal.js","views/products/Products.js","components/forms/restocks/AddRestockForm.js","components/Graph.js","components/tables/TrendsTable.js","views/products/ProductActivity.js","views/products/Product.js","components/tables/EventTable.js","views/events/Events.js","views/sales/Sales.js","App.js","utils/history.js","index.js","GraphQLProvider.js"],"names":["DEFAULT_REDIRECT_CALLBACK","window","history","replaceState","document","title","location","pathname","Auth0Context","React","createContext","useAuth0","useContext","Home","className","to","Login","loginWithRedirect","onClick","PrivateRoute","Component","component","path","rest","loading","isAuthenticated","useEffect","a","async","appState","targetUrl","render","props","gql","ADD_PRODUCT","ADD_RESTOCK","CATEGORIES_SUBSCRIPTION","PRODUCTS_SUBSCRIPTION","DELETE_PRODUCT","TOGGLE_ACTIVE","ProductTable","useSubscription","data","error","useMutation","toggleActive","message","products","length","map","product","key","id","sku","name","date_created","icon","enabled","variables","count","last_restock","state","find","editRow","console","log","deleteProduct","colSpan","AddProductForm","categories","categoryList","today","Date","initialFormState","category","date","toLocaleDateString","restock","addProduct","useState","setProduct","setDate","handleInputChange","event","target","value","autoComplete","onSubmit","preventDefault","cat","skus","parseInt","substring","skuNumber","Math","max","sku_code","concat","generateSKU","cat_id","date_added","hide","type","onChange","selected","EditProductForm","currentProduct","updateProduct","cancelUpdate","Header","logout","back","size","Modal","isShowing","content","ReactDOM","createPortal","Fragment","aria-modal","aria-hidden","tabIndex","role","data-dismiss","body","useModal","setIsShowing","toggle","Products","categoriesData","CategorySubscription","setProducts","editing","setEditing","setCurrentProduct","addProductForm","editProductForm","updatedProduct","AddRestockForm","proudct_id","addRestock","setRestock","product_id","chartConfig","labels","datasets","label","lineTension","fill","backgroundColor","borderColor","borderWidth","options","legend","display","scales","yAxes","ticks","beginAtZero","Chart","chartContainer","useRef","setChartInstance","current","newChartInstance","Chartjs","ref","TrendsTable","restocks","ProductActivity","Graph","Product","ProductSubscription","match","params","addRestockForm","EventTable","events","deleteEvent","Events","setEvents","filter","Sales","eventId","salesData","day","items","total","cc","female","eventSales","setSales","App","exact","createBrowserHistory","library","add","faCheck","faTimes","faCoffee","faArrowLeft","basename","process","children","onRedirectCallback","initOptions","setIsAuthenticated","user","setUser","auth0Client","setAuth0","setLoading","popupOpen","setPopupOpen","createAuth0Client","auth0FromHook","search","includes","handleRedirectCallback","getUser","initAuth0","Provider","loginWithPopup","getIdTokenClaims","getTokenSilently","getTokenWithPopup","domain","config","client_id","clientId","audience","redirect_uri","push","wsLink","WebSocketLink","uri","reconnect","connectionParams","token","headers","authorization","undefined","httpLink","HttpLink","requestLink","ApolloLink","operation","forward","Observable","observer","handle","Promise","resolve","then","oper","setContext","request","subscribe","next","bind","complete","catch","unsubscribe","link","split","query","getMainDefinition","kind","client","ApolloClient","from","cache","InMemoryCache","getElementById"],"mappings":"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","file":"static/js/main.01dd050a.chunk.js","sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\r\nimport createAuth0Client from '@auth0/auth0-spa-js';\r\n\r\nconst DEFAULT_REDIRECT_CALLBACK = () =>\r\n  window.history.replaceState({}, document.title, window.location.pathname);\r\n\r\nexport const Auth0Context = React.createContext();\r\nexport const useAuth0 = () => useContext(Auth0Context);\r\nexport const Auth0Provider = ({\r\n  children,\r\n  onRedirectCallback = DEFAULT_REDIRECT_CALLBACK,\r\n  ...initOptions\r\n}) => {\r\n  const [isAuthenticated, setIsAuthenticated] = useState();\r\n  const [user, setUser] = useState();\r\n  const [auth0Client, setAuth0] = useState();\r\n  const [loading, setLoading] = useState(true);\r\n  const [popupOpen, setPopupOpen] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const initAuth0 = async () => {\r\n      const auth0FromHook = await createAuth0Client(initOptions);\r\n      setAuth0(auth0FromHook);\r\n\r\n      if (window.location.search.includes('code=')) {\r\n        const { appState } = await auth0FromHook.handleRedirectCallback();\r\n        onRedirectCallback(appState);\r\n      }\r\n\r\n      const isAuthenticated = await auth0FromHook.isAuthenticated();\r\n\r\n      setIsAuthenticated(isAuthenticated);\r\n\r\n      if (isAuthenticated) {\r\n        const user = await auth0FromHook.getUser();\r\n        setUser(user);\r\n      }\r\n\r\n      setLoading(false);\r\n    };\r\n    initAuth0();\r\n    // eslint-disable-next-line\r\n  }, []);\r\n\r\n  const loginWithPopup = async (params = {}) => {\r\n    setPopupOpen(true);\r\n    try {\r\n      await auth0Client.loginWithPopup(params);\r\n    } catch (error) {\r\n      console.error(error);\r\n    } finally {\r\n      setPopupOpen(false);\r\n    }\r\n    const user = await auth0Client.getUser();\r\n    setUser(user);\r\n    setIsAuthenticated(true);\r\n  };\r\n\r\n  const handleRedirectCallback = async () => {\r\n    setLoading(true);\r\n    await auth0Client.handleRedirectCallback();\r\n    const user = await auth0Client.getUser();\r\n    setLoading(false);\r\n    setIsAuthenticated(true);\r\n    setUser(user);\r\n  };\r\n  return (\r\n    <Auth0Context.Provider\r\n      value={{\r\n        isAuthenticated,\r\n        user,\r\n        loading,\r\n        popupOpen,\r\n        loginWithPopup,\r\n        handleRedirectCallback,\r\n        getIdTokenClaims: (...p) => auth0Client.getIdTokenClaims(...p),\r\n        loginWithRedirect: (...p) => auth0Client.loginWithRedirect(...p),\r\n        getTokenSilently: (...p) => auth0Client.getTokenSilently(...p),\r\n        getTokenWithPopup: (...p) => auth0Client.getTokenWithPopup(...p),\r\n        logout: (...p) => auth0Client.logout(...p)\r\n      }}\r\n    >\r\n      {children}\r\n    </Auth0Context.Provider>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst Home = () => {\r\n  return (\r\n    <div className=\"container\">\r\n      <Link to=\"/products\">\r\n        <div className=\"split left\">\r\n          <div className=\"centered\">\r\n            <h1>Products</h1>\r\n          </div>\r\n        </div>\r\n      </Link>\r\n      <Link to=\"/events\">\r\n        <div className=\"split right\">\r\n          <div className=\"centered\">\r\n            <h1>Events</h1>\r\n          </div>\r\n        </div>\r\n      </Link>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","import React from 'react';\r\nimport { useAuth0 } from '../react-auth0-spa';\r\n\r\nconst Login = () => {\r\n  const { loginWithRedirect } = useAuth0();\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <div className=\"split left\" onClick={() => loginWithRedirect({})}>\r\n        <div className=\"centered\">\r\n          <h1>Log In</h1>\r\n        </div>\r\n      </div>\r\n      <div className=\"split right\">\r\n        <div className=\"centered\">\r\n          <h1>Sign Up</h1>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n","import React, { useEffect } from 'react';\r\nimport { Route } from 'react-router-dom';\r\nimport { useAuth0 } from '../react-auth0-spa';\r\n\r\nconst PrivateRoute = ({ component: Component, path, ...rest }) => {\r\n  const { loading, isAuthenticated, loginWithRedirect } = useAuth0();\r\n\r\n  useEffect(() => {\r\n    if (loading || isAuthenticated) {\r\n      return;\r\n    }\r\n    const fn = async () => {\r\n      await loginWithRedirect({\r\n        appState: { targetUrl: path }\r\n      });\r\n    };\r\n    fn();\r\n  }, [loading, isAuthenticated, loginWithRedirect, path]);\r\n\r\n  const render = props =>\r\n    isAuthenticated === true ? <Component {...props} /> : null;\r\n\r\n  return <Route path={path} render={render} {...rest} />;\r\n};\r\n\r\nexport default PrivateRoute;\r\n","import gql from 'graphql-tag';\r\n// good example on auth header mutations: https://www.apollographql.com/docs/tutorial/mutations/\r\nexport const PRODUCTS = gql`\r\n  query {\r\n    products {\r\n      sku\r\n      name\r\n      category_id\r\n      category {\r\n        name\r\n      }\r\n      date_created\r\n      enabled\r\n      count\r\n      last_restock\r\n    }\r\n  }\r\n`;\r\n\r\nexport const CATEGORIES = gql`\r\n  query {\r\n    categories {\r\n      id\r\n      name\r\n      sku_code\r\n      products {\r\n        sku\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\n// mutations: https://devhoot.ooo/build-a-react-graphql-app-with-apollo-client-powered-by-hasura-engine/\r\nexport const ADD_PRODUCT = gql`\r\n  mutation(\r\n    $name: String!\r\n    $sku: String!\r\n    $count: Int!\r\n    $cat_id: Int!\r\n    $date_added: date!\r\n    $last_restock: date\r\n  ) {\r\n    insert_products(\r\n      objects: [\r\n        {\r\n          name: $name\r\n          sku: $sku\r\n          count: $count\r\n          category_id: $cat_id\r\n          date_created: $date_added\r\n          last_restock: $last_restock\r\n        }\r\n      ]\r\n    ) {\r\n      returning {\r\n        id\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const ADD_RESTOCK = gql`\r\n  mutation($product_id: Int!, $date: date!, $count: Int!) {\r\n    insert_restocks(\r\n      objects: [{ product_id: $product_id, date: $date, count: $count }]\r\n    ) {\r\n      returning {\r\n        id\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const CATEGORIES_SUBSCRIPTION = gql`\r\n  subscription {\r\n    categories {\r\n      id\r\n      name\r\n      sku_code\r\n      products {\r\n        sku\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const PRODUCTS_SUBSCRIPTION = gql`\r\n  subscription {\r\n    products {\r\n      id\r\n      sku\r\n      name\r\n      category {\r\n        name\r\n      }\r\n      date_created\r\n      enabled\r\n      count\r\n      last_restock\r\n      restocks(order_by: { date: asc }) {\r\n        id\r\n        date\r\n        count\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const DELETE_PRODUCT = gql`\r\n  mutation($id: Int!) {\r\n    delete_products(where: { id: { _eq: $id } }) {\r\n      returning {\r\n        sku\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const TOGGLE_ACTIVE = gql`\r\n  mutation($id: Int!, $enabled: Boolean!) {\r\n    update_products(where: { id: { _eq: $id } }, _set: { enabled: $enabled }) {\r\n      returning {\r\n        sku\r\n        enabled\r\n      }\r\n    }\r\n  }\r\n`;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { useMutation, useSubscription } from '@apollo/react-hooks';\r\nimport { TOGGLE_ACTIVE, PRODUCTS_SUBSCRIPTION } from '../queries';\r\n\r\nconst ProductTable = props => {\r\n  const { data, loading, error } = useSubscription(PRODUCTS_SUBSCRIPTION);\r\n  const [toggleActive] = useMutation(TOGGLE_ACTIVE);\r\n  if (loading) return 'Loading';\r\n  if (error) return `Error: ${error.message}`;\r\n  return (\r\n    <table>\r\n      <thead>\r\n        <tr>\r\n          <th>SKU</th>\r\n          <th>Name</th>\r\n          <th>Date Added</th>\r\n          <th>Enabled</th>\r\n          <th>Count</th>\r\n          <th>Last Restock Date</th>\r\n          <th></th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        {data.products.length > 0 ? (\r\n          data.products.map(product => (\r\n            <tr key={product.id}>\r\n              <td>{product.sku}</td>\r\n              <td>{product.name}</td>\r\n              <td>{product.date_created}</td>\r\n              <td>\r\n                <FontAwesomeIcon\r\n                  icon={product.enabled ? 'check' : 'times'}\r\n                  onClick={() =>\r\n                    toggleActive({\r\n                      variables: { id: product.id, enabled: !product.enabled }\r\n                    })\r\n                  }\r\n                />\r\n              </td>\r\n              <td>{product.count}</td>\r\n              <td>{product.last_restock}</td>\r\n              <td>\r\n                <Link\r\n                  to={{\r\n                    pathname: `/products/${product.id}`,\r\n                    state: {\r\n                      product: data.products.find(product => product.id)\r\n                    }\r\n                  }}\r\n                >\r\n                  <button>Details</button>\r\n                </Link>\r\n                <button\r\n                  onClick={() => props.editRow(product)}\r\n                  className='button muted-button'\r\n                >\r\n                  Edit\r\n                </button>\r\n                <button\r\n                  onClick={() =>\r\n                    console.log(\r\n                      props.deleteProduct({ variables: { id: product.id } })\r\n                    )\r\n                  }\r\n                  className='button muted-button'\r\n                >\r\n                  Delete\r\n                </button>\r\n              </td>\r\n            </tr>\r\n          ))\r\n        ) : (\r\n          <tr>\r\n            <td colSpan={8}>No products</td>\r\n          </tr>\r\n        )}\r\n      </tbody>\r\n    </table>\r\n  );\r\n};\r\n\r\nexport default ProductTable;\r\n","import React, { useState } from 'react';\r\nimport DatePicker from 'react-datepicker';\r\nimport { useMutation } from '@apollo/react-hooks';\r\nimport { ADD_PRODUCT } from '../../queries';\r\n\r\nconst AddProductForm = props => {\r\n  const categories = props.categoryList;\r\n  const today = new Date();\r\n  const initialFormState = {\r\n    id: null,\r\n    sku: '',\r\n    name: '',\r\n    category: '',\r\n    date: today.toLocaleDateString(),\r\n    enabled: true,\r\n    count: '',\r\n    restock: ''\r\n  };\r\n  const [addProduct] = useMutation(ADD_PRODUCT);\r\n  const [product, setProduct] = useState(initialFormState);\r\n  const [date, setDate] = useState(today);\r\n\r\n  const generateSKU = id => {\r\n    const category = categories.find(cat => {\r\n      return cat.id === id;\r\n    });\r\n    const skus = category.products.map(product => {\r\n      return parseInt(product.sku.substring(4));\r\n    });\r\n    const skuNumber = skus.length > 0 ? Math.max(...skus) + 1 : 1;\r\n    return category.sku_code.concat(skuNumber);\r\n  };\r\n\r\n  const handleInputChange = event => {\r\n    const { name, value } = event.target;\r\n\r\n    setProduct({ ...product, [name]: value });\r\n  };\r\n\r\n  const handleDateChange = date => {\r\n    setDate(date);\r\n\r\n    setProduct({ ...product, date: date.toLocaleDateString() });\r\n  };\r\n\r\n  return (\r\n    <form\r\n      autoComplete='off'\r\n      onSubmit={event => {\r\n        event.preventDefault();\r\n        if (!product.name || !product.category || !product.count) return;\r\n        product.sku = generateSKU(parseInt(product.category));\r\n        product.restock = product.date;\r\n        addProduct({\r\n          variables: {\r\n            name: product.name,\r\n            sku: product.sku,\r\n            count: parseInt(product.count),\r\n            cat_id: parseInt(product.category),\r\n            date_added: product.date,\r\n            last_restock: product.restock\r\n          }\r\n        });\r\n        setProduct(initialFormState);\r\n\r\n        props.hide();\r\n      }}\r\n    >\r\n      <div className='flex-row'>\r\n        <div className='flex-large'>\r\n          <label>Name</label>\r\n          <input\r\n            type='text'\r\n            name='name'\r\n            value={product.name}\r\n            onChange={handleInputChange}\r\n          />\r\n          <label>Date Added</label>\r\n          <DatePicker name='date' selected={date} onChange={handleDateChange} />\r\n        </div>\r\n        <div className='flex-large'>\r\n          <label>Category</label>\r\n          <select\r\n            name='category'\r\n            value={product.category}\r\n            onChange={handleInputChange}\r\n          >\r\n            <option value=''>Select a category</option>\r\n            {categories.map(category => (\r\n              <option key={category.sku_code} value={category.id}>\r\n                {category.name}\r\n              </option>\r\n            ))}\r\n          </select>\r\n          <label>Initial Count</label>\r\n          <input\r\n            type='number'\r\n            name='count'\r\n            value={product.count}\r\n            onChange={handleInputChange}\r\n          />\r\n        </div>\r\n      </div>\r\n      <button>Save</button>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default AddProductForm;\r\n","import React, { useState, useEffect } from 'react';\r\n\r\nconst EditProductForm = props => {\r\n  const categories = [\r\n    { name: 'Lily', sku: 'lil' },\r\n    { name: 'Raphie', sku: 'rph' },\r\n    { name: 'Tiny', sku: 'tny' }\r\n  ];\r\n  const [product, setProduct] = useState(props.currentProduct);\r\n\r\n  const handleInputChange = event => {\r\n    const { name, value } = event.target;\r\n\r\n    setProduct({ ...product, [name]: value });\r\n  };\r\n\r\n  useEffect(() => {\r\n    setProduct(props.currentProduct);\r\n  }, [props]);\r\n\r\n  return (\r\n    <form\r\n      onSubmit={event => {\r\n        event.preventDefault();\r\n        console.log(product);\r\n        props.updateProduct(product.id, product);\r\n      }}\r\n    >\r\n      <div className=\"flex-row\">\r\n        <div className=\"flex-large\">\r\n          <label>Name</label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"name\"\r\n            value={product.name}\r\n            onChange={handleInputChange}\r\n          />\r\n        </div>\r\n        <div className=\"flex-large\">\r\n          <label>Category</label>\r\n          <select\r\n            name=\"category\"\r\n            value={product.category}\r\n            onChange={handleInputChange}\r\n          >\r\n            <option value=\"\">Select a category</option>\r\n            {categories.map(category => (\r\n              <option key={category.sku} value={category.name}>\r\n                {category.name}\r\n              </option>\r\n            ))}\r\n          </select>\r\n        </div>\r\n      </div>\r\n      <button>Update product</button>\r\n      <button\r\n        onClick={() => props.cancelUpdate()}\r\n        className=\"button muted-button\"\r\n      >\r\n        Cancel\r\n      </button>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default EditProductForm;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { useAuth0 } from '../react-auth0-spa';\r\n\r\nconst Header = props => {\r\n  const { logout } = useAuth0();\r\n\r\n  return (\r\n    <div className=\"header\">\r\n      <Link to={props.back}>\r\n        <FontAwesomeIcon icon=\"arrow-left\" size=\"2x\" />\r\n      </Link>\r\n      <button onClick={() => logout()}>Log out</button>\r\n      <h1>{props.title}</h1>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","//\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\n\r\nconst Modal = ({ isShowing, hide, title, content }) =>\r\n  isShowing\r\n    ? ReactDOM.createPortal(\r\n        <React.Fragment>\r\n          <div className=\"modal-overlay\" />\r\n          <div\r\n            className=\"modal-wrapper\"\r\n            aria-modal\r\n            aria-hidden\r\n            tabIndex={-1}\r\n            role=\"dialog\"\r\n          >\r\n            <div className=\"modal\">\r\n              <div className=\"modal-header\">\r\n                <h2>{title}</h2>\r\n                <FontAwesomeIcon\r\n                  icon=\"times\"\r\n                  data-dismiss=\"modal\"\r\n                  onClick={hide}\r\n                />\r\n              </div>\r\n              <div>{content}</div>\r\n            </div>\r\n          </div>\r\n        </React.Fragment>,\r\n        document.body\r\n      )\r\n    : null;\r\n\r\nexport default Modal;\r\n","//https://upmostly.com/tutorials/modal-components-react-custom-hooks\r\nimport { useState } from 'react';\r\n\r\nconst useModal = () => {\r\n  const [isShowing, setIsShowing] = useState(false);\r\n\r\n  function toggle() {\r\n    setIsShowing(!isShowing);\r\n  }\r\n\r\n  return {\r\n    isShowing,\r\n    toggle\r\n  };\r\n};\r\n\r\nexport default useModal;\r\n","import React, { useState } from 'react';\r\nimport ProductTable from '../../components/tables/ProductTable';\r\nimport AddProductForm from '../../components/forms/products/AddProductForm';\r\nimport EditProductForm from '../../components/forms/products/EditProductForm';\r\nimport Header from '../../components/Header';\r\nimport Modal from '../../components/modal/Modal';\r\nimport useModal from '../../components/modal/useModal';\r\nimport { useSubscription, useMutation } from '@apollo/react-hooks';\r\nimport {\r\n  CATEGORIES_SUBSCRIPTION,\r\n  DELETE_PRODUCT\r\n} from '../../components/queries';\r\n\r\nconst CategorySubscription = () => {\r\n  const { data, loading, error } = useSubscription(CATEGORIES_SUBSCRIPTION);\r\n\r\n  if (loading) return 'Loading';\r\n  if (error) return `Error: ${error.message}`;\r\n  if (!data) return 'None found';\r\n\r\n  return data.categories;\r\n};\r\n\r\nconst Products = () => {\r\n  const categoriesData = CategorySubscription();\r\n  const productsData = [];\r\n\r\n  const [products, setProducts] = useState(productsData);\r\n  const { isShowing, toggle } = useModal();\r\n\r\n  const [deleteProduct] = useMutation(DELETE_PRODUCT);\r\n\r\n  const [editing, setEditing] = useState(false);\r\n  const initialFormState = { id: null, name: '', category: '' };\r\n  const [currentProduct, setCurrentProduct] = useState(initialFormState);\r\n\r\n  const editRow = product => {\r\n    setEditing(true);\r\n    toggle();\r\n    setCurrentProduct({\r\n      id: product.id,\r\n      name: product.name,\r\n      category: product.category\r\n    });\r\n  };\r\n\r\n  const updateProduct = (id, updatedProduct) => {\r\n    setEditing(false);\r\n    toggle();\r\n    setProducts(\r\n      products.map(product => (product.id === id ? updatedProduct : product))\r\n    );\r\n  };\r\n\r\n  const cancelUpdate = () => {\r\n    setEditing(false);\r\n    toggle();\r\n  };\r\n\r\n  const addProductForm = (\r\n    <AddProductForm hide={toggle} categoryList={categoriesData} />\r\n  );\r\n\r\n  const editProductForm = (\r\n    <EditProductForm\r\n      editing={editing}\r\n      cancelUpdate={cancelUpdate}\r\n      currentProduct={currentProduct}\r\n      updateProduct={updateProduct}\r\n    />\r\n  );\r\n\r\n  return (\r\n    <div className='full-container'>\r\n      <Header title='Products' back='/' />\r\n      <Modal\r\n        isShowing={isShowing}\r\n        hide={toggle}\r\n        title={editing ? 'Editing ' + currentProduct.name : 'Add a new product'}\r\n        content={editing ? editProductForm : addProductForm}\r\n      />\r\n      <div className='container'>\r\n        <button onClick={toggle}>Add new product</button>\r\n        <div className='flex-large'>\r\n          <ProductTable editRow={editRow} deleteProduct={deleteProduct} />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Products;\r\n","import React, { useState } from 'react';\r\nimport DatePicker from 'react-datepicker';\r\nimport { useMutation } from '@apollo/react-hooks';\r\nimport { ADD_RESTOCK } from '../../queries';\r\n\r\nconst AddRestockForm = props => {\r\n  const today = new Date();\r\n  const initialFormState = {\r\n    id: null,\r\n    proudct_id: '',\r\n    date: today.toLocaleDateString(),\r\n    count: ''\r\n  };\r\n  const [addRestock] = useMutation(ADD_RESTOCK);\r\n  const [restock, setRestock] = useState(initialFormState);\r\n  const [date, setDate] = useState(today);\r\n\r\n  const handleInputChange = event => {\r\n    const { name, value } = event.target;\r\n\r\n    setRestock({ ...restock, [name]: value });\r\n  };\r\n\r\n  const handleDateChange = date => {\r\n    setDate(date);\r\n\r\n    setRestock({ ...restock, date: date.toLocaleDateString() });\r\n  };\r\n\r\n  return (\r\n    <form\r\n      autoComplete='off'\r\n      onSubmit={event => {\r\n        event.preventDefault();\r\n        if (!restock.count) return;\r\n        restock.product_id = props.id;\r\n        addRestock({\r\n          variables: {\r\n            product_id: restock.product_id,\r\n            count: parseInt(restock.count),\r\n            date: restock.date\r\n          }\r\n        });\r\n        setRestock(initialFormState);\r\n\r\n        props.hide();\r\n      }}\r\n    >\r\n      <div className='flex-row'>\r\n        <div className='flex-large'>\r\n          <label>Count</label>\r\n          <input\r\n            type='number'\r\n            name='count'\r\n            value={restock.count}\r\n            onChange={handleInputChange}\r\n          />\r\n        </div>\r\n        <div className='flex-large'>\r\n          <label>Date Restocked</label>\r\n          <DatePicker name='date' selected={date} onChange={handleDateChange} />\r\n        </div>\r\n      </div>\r\n      <button>Save</button>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default AddRestockForm;\r\n","import React, { useEffect, useRef, useState } from 'react';\r\nimport Chartjs from 'chart.js';\r\n\r\nconst randomInt = () => Math.floor(Math.random() * (10 - 1 + 1)) + 1;\r\n\r\nconst chartConfig = {\r\n  type: 'line',\r\n  data: {\r\n    labels: ['Some Day', 'Prior to', 'The Last', 'Recorded', 'Day', 'On here'],\r\n    datasets: [\r\n      {\r\n        label: 'Nice',\r\n        lineTension: 0,\r\n        fill: false,\r\n        data: [12, 19, 3, 5, 2, 3],\r\n        backgroundColor: 'rgba(255, 99, 132, 0.2)',\r\n        borderColor: 'rgba(255, 99, 132, 1)',\r\n        borderWidth: 1\r\n      }\r\n    ]\r\n  },\r\n  options: {\r\n    legend: {\r\n      display: false\r\n    },\r\n    scales: {\r\n      yAxes: [\r\n        {\r\n          ticks: {\r\n            beginAtZero: true\r\n          }\r\n        }\r\n      ]\r\n    }\r\n  }\r\n};\r\n\r\nconst Chart = () => {\r\n  const chartContainer = useRef(null);\r\n  const [chartInstance, setChartInstance] = useState(null);\r\n\r\n  // https://dev.to/vcanales/using-chart-js-in-a-function-component-with-react-hooks-246l\r\n  useEffect(() => {\r\n    if (chartContainer && chartContainer.current) {\r\n      const newChartInstance = new Chartjs(chartContainer.current, chartConfig);\r\n      setChartInstance(newChartInstance);\r\n    }\r\n  }, [chartContainer]);\r\n\r\n  const updateDataset = (datasetIndex, newData) => {\r\n    chartInstance.data.datasets[datasetIndex].data = newData;\r\n    chartInstance.update();\r\n  };\r\n\r\n  const onButtonClick = () => {\r\n    const data = [\r\n      randomInt(),\r\n      randomInt(),\r\n      randomInt(),\r\n      randomInt(),\r\n      randomInt(),\r\n      randomInt()\r\n    ];\r\n    updateDataset(0, data);\r\n  };\r\n\r\n  // eventually use this https://github.com/chartjs/chartjs-plugin-annotation\r\n\r\n  return (\r\n    <div>\r\n      {/*<button onClick={onButtonClick}>Randomize!</button>*/}\r\n      <canvas ref={chartContainer} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Chart;\r\n","import React from 'react';\r\n\r\nconst TrendsTable = props => {\r\n  return (\r\n    <table>\r\n      <thead>\r\n        <tr>\r\n          <th>Date</th>\r\n          <th>Type</th>\r\n          <th>Count</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        {props.restocks.length > 0 ? (\r\n          props.restocks.map(restock => (\r\n            <tr key={restock.id}>\r\n              <td>{restock.date}</td>\r\n              <td>Restock</td>\r\n              <td>{restock.count}</td>\r\n            </tr>\r\n          ))\r\n        ) : (\r\n          <tr>\r\n            <td colSpan={3}>No activity</td>\r\n          </tr>\r\n        )}\r\n      </tbody>\r\n    </table>\r\n  );\r\n};\r\n\r\nexport default TrendsTable;\r\n","import React from 'react';\r\nimport Graph from '../../components/Graph';\r\nimport TrendsTable from '../../components/tables/TrendsTable';\r\n\r\nconst ProductActivity = props => {\r\n  return (\r\n    <div className=\"full-container\">\r\n      <Graph />\r\n      <button onClick={props.toggle}>Add new restock</button>\r\n      <TrendsTable restocks={props.restocks} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProductActivity;\r\n","import React from 'react';\r\nimport AddRestockForm from '../../components/forms/restocks/AddRestockForm';\r\nimport ProductActivity from './ProductActivity';\r\nimport Header from '../../components/Header';\r\nimport Modal from '../../components/modal/Modal';\r\nimport useModal from '../../components/modal/useModal';\r\nimport { Tab, Tabs, TabList, TabPanel } from 'react-tabs';\r\nimport { useSubscription } from '@apollo/react-hooks';\r\nimport { PRODUCTS_SUBSCRIPTION } from '../../components/queries';\r\n\r\nconst ProductSubscription = id => {\r\n  const { data, loading, error } = useSubscription(PRODUCTS_SUBSCRIPTION);\r\n\r\n  if (loading) return 'Loading';\r\n  if (error) return `Error: ${error.message}`;\r\n  if (!data) return 'None found';\r\n\r\n  return data.products.find(product => id);\r\n};\r\n\r\nconst Product = ({ match }) => {\r\n  // https://tylermcginnis.com/react-router-url-parameters/\r\n  const product = ProductSubscription(match.params.id);\r\n  const { isShowing, toggle } = useModal();\r\n\r\n  const addRestockForm = <AddRestockForm hide={toggle} id={product.id} />;\r\n  // LOL hack\r\n  return product.sku ? (\r\n    <div className=\"full-container\">\r\n      <Header title={product.sku} back=\"/products\" />\r\n      <Modal\r\n        isShowing={isShowing}\r\n        hide={toggle}\r\n        title={'Add a new restock for ' + product.sku}\r\n        content={addRestockForm}\r\n      />\r\n      <div className=\"container\">\r\n        <h2>Some data about {product.name}</h2>\r\n        <Tabs>\r\n          <TabList>\r\n            <Tab>Info</Tab>\r\n            <Tab>Trends</Tab>\r\n          </TabList>\r\n          <TabPanel>\r\n            <h2>hello</h2>\r\n          </TabPanel>\r\n          <TabPanel>\r\n            <h2>{product.count}</h2>\r\n            <ProductActivity toggle={toggle} restocks={product.restocks} />\r\n          </TabPanel>\r\n        </Tabs>\r\n      </div>\r\n    </div>\r\n  ) : (\r\n    <div>Loading...</div>\r\n  );\r\n};\r\n\r\nexport default Product;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst EventTable = props => (\r\n  <table>\r\n    <thead>\r\n      <tr>\r\n        <th>Name</th>\r\n        <th>Location</th>\r\n        <th>Date</th>\r\n        <th></th>\r\n      </tr>\r\n    </thead>\r\n    <tbody>\r\n      {props.events.length > 0 ? (\r\n        props.events.map(event => (\r\n          <tr key={event.id}>\r\n            <td>{event.name}</td>\r\n            <td>{event.location}</td>\r\n            <td>{event.date}</td>\r\n            <td>\r\n              <Link to={'/events/' + event.id}>\r\n                <button>Sales</button>\r\n              </Link>\r\n              <button\r\n                onClick={() => props.editRow(event)}\r\n                className=\"button muted-button\"\r\n              >\r\n                Edit\r\n              </button>\r\n              <button\r\n                onClick={() => props.deleteEvent(event.id)}\r\n                className=\"button muted-button\"\r\n              >\r\n                Delete\r\n              </button>\r\n            </td>\r\n          </tr>\r\n        ))\r\n      ) : (\r\n        <tr>\r\n          <td colSpan={4}>No events</td>\r\n        </tr>\r\n      )}\r\n    </tbody>\r\n  </table>\r\n);\r\n\r\nexport default EventTable;\r\n","import React, { useState } from 'react';\r\nimport EventTable from '../../components/tables/EventTable';\r\nimport Header from '../../components/Header';\r\n\r\nconst Events = () => {\r\n  const eventsData = [\r\n    { id: 1, name: 'a convention', location: 'los angeles', date: 'april' },\r\n    {\r\n      id: 2,\r\n      name: 'another convention',\r\n      location: 'sacramento',\r\n      date: 'february'\r\n    },\r\n    { id: 3, name: 'convention', location: 'fresno', date: 'asdf' },\r\n    { id: 4, name: 'aon', location: 'new york city', date: 'date' },\r\n    { id: 5, name: 'convosid', location: 'seattle', date: '02/31/2020' },\r\n    { id: 6, name: 'dallasconvention', location: 'dallas', date: '9' },\r\n    {\r\n      id: 7,\r\n      name: 'RTX',\r\n      location: 'austin',\r\n      date: 'twelve twelve twentytwenty'\r\n    },\r\n    { id: 8, name: 'zotzotzot', location: 'irvine', date: 'pog' },\r\n    { id: 9, name: 'AX', location: 'los angeles', date: 'sad' }\r\n  ];\r\n\r\n  const [events, setEvents] = useState(eventsData);\r\n\r\n  const deleteEvent = id => {\r\n    setEvents(events.filter(event => event.id !== id));\r\n  };\r\n\r\n  return (\r\n    <div className='full-container'>\r\n      <Header title='Events' back='/' />\r\n      <div className='container'>\r\n        <button>Add new event</button>\r\n        <div className='flex-large'>\r\n          <EventTable events={events} deleteEvent={deleteEvent} />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Events;\r\n","import React, { useState, useEffect } from 'react';\r\n//import SalesTable from '../../tables/SalesTable'\r\nimport Header from '../../components/Header';\r\n\r\nconst Sales = props => {\r\n  const eventId = props.match.params.id;\r\n\r\n  console.log('fetching ' + eventId);\r\n  const initialEventSalesState = {\r\n    eventSales: {},\r\n    loading: true\r\n  };\r\n\r\n  const salesData = [\r\n    {\r\n      id: 1,\r\n      day: 2,\r\n      items: ['sku-1', 'sku-3'],\r\n      total: 20,\r\n      cc: true,\r\n      female: false\r\n    }\r\n  ];\r\n\r\n  const [sales, setSales] = useState(initialEventSalesState);\r\n\r\n  useEffect(() => {\r\n    const getSales = async () => {\r\n      // should have await function getting sales for id\r\n      const data = salesData;\r\n\r\n      setSales(data);\r\n    };\r\n    getSales();\r\n  }, []);\r\n\r\n  const deleteSale = id => {\r\n    setSales(sales.filter(sale => sale.id !== id));\r\n  };\r\n\r\n  return (\r\n    <div className=\"full-container\">\r\n      <Header title={'Sales for event ' + eventId} back=\"/events\" />\r\n      <div className=\"container\">\r\n        <button>Add new sale</button>\r\n        <div className=\"flex-large\">\r\n          {/* <SalesTable sales={sales} deleteSale={deleteSale} /> */}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Sales;\r\n","import React from 'react';\r\nimport { Route, Switch } from 'react-router-dom';\r\nimport { useAuth0 } from './react-auth0-spa';\r\nimport Home from './views/Home';\r\nimport Login from './views/Login';\r\nimport PrivateRoute from './components/PrivateRoute';\r\nimport Products from './views/products/Products';\r\nimport Product from './views/products/Product';\r\nimport Events from './views/events/Events';\r\nimport Sales from './views/sales/Sales';\r\n\r\nconst App = () => {\r\n  const { isAuthenticated, loading } = useAuth0();\r\n\r\n  if (loading) {\r\n    return <div>Loading...</div>;\r\n  }\r\n  return (\r\n    <Switch>\r\n      {!isAuthenticated && <Route exact path='/' component={Login} />}\r\n      {isAuthenticated && <Route exact path='/' component={Home} />}\r\n      <PrivateRoute exact path='/products' component={Products} />\r\n      <PrivateRoute path='/products/:id' component={Product} />\r\n      <PrivateRoute exact path='/events' component={Events} />\r\n      <PrivateRoute path='/events/:id' component={Sales} />\r\n    </Switch>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import { createBrowserHistory } from 'history';\r\nexport default createBrowserHistory();\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport { library } from '@fortawesome/fontawesome-svg-core';\r\nimport {\r\n  faCheck,\r\n  faTimes,\r\n  faCoffee,\r\n  faArrowLeft\r\n} from '@fortawesome/free-solid-svg-icons';\r\nimport './index.css';\r\nimport 'react-datepicker/dist/react-datepicker.css';\r\nimport App from './App';\r\n// import * as serviceWorker from \"./serviceWorker\";\r\nimport { Auth0Provider } from './react-auth0-spa';\r\nimport { GraphQLProvider } from './GraphQLProvider';\r\nimport config from './auth_config.json';\r\nimport history from './utils/history';\r\n\r\n// A function that routes the user to the right place\r\n// after login\r\nconst onRedirectCallback = appState => {\r\n  history.push(\r\n    appState && appState.targetUrl\r\n      ? appState.targetUrl\r\n      : window.location.pathname\r\n  );\r\n};\r\n\r\nlibrary.add(faCheck, faTimes, faCoffee, faArrowLeft);\r\n\r\nReactDOM.render(\r\n  <BrowserRouter basename={process.env.PUBLIC_URL}>\r\n    <Auth0Provider\r\n      domain={config.domain}\r\n      client_id={config.clientId}\r\n      audience={'https://nekoma.auth0.com/api/v2/'}\r\n      redirect_uri={'https://tedzchu.com/nekoma-frontend/'}\r\n      onRedirectCallback={onRedirectCallback}\r\n    >\r\n      <GraphQLProvider>\r\n        <App />\r\n      </GraphQLProvider>\r\n    </Auth0Provider>\r\n  </BrowserRouter>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// serviceWorker.unregister();\r\n","import React from 'react';\r\nimport ApolloClient from 'apollo-client';\r\nimport { ApolloProvider } from '@apollo/react-hooks';\r\nimport { useAuth0 } from './react-auth0-spa';\r\n\r\n// Setup the network \"links\"\r\nimport { WebSocketLink } from 'apollo-link-ws';\r\nimport { HttpLink } from 'apollo-link-http';\r\nimport { split, ApolloLink, Observable } from 'apollo-link';\r\nimport { getMainDefinition } from 'apollo-utilities';\r\nimport { InMemoryCache } from 'apollo-cache-inmemory';\r\n\r\n// https://github.com/auth0-samples/auth0-javascript-samples/issues/79\r\n// https://github.com/vonkanehoffen/planning-alerts/blob/master/frontend-web/src/GraphQLProvider.js\r\n\r\n/**\r\n * Apollo Provider with Auth0 token.\r\n * @param children\r\n * @returns {*}\r\n * @constructor\r\n */\r\nexport const GraphQLProvider = ({ children }) => {\r\n  const { loading, isAuthenticated, getTokenSilently } = useAuth0();\r\n  if (loading) {\r\n    return <div>Loading...</div>;\r\n  }\r\n\r\n  // https://github.com/apollographql/apollo-client/issues/3967#issuecomment-450255702\r\n  const wsLink = new WebSocketLink({\r\n    uri: 'wss://nekoma.herokuapp.com/v1/graphql',\r\n    options: {\r\n      reconnect: true,\r\n      connectionParams: async () => {\r\n        const token = isAuthenticated ? await getTokenSilently() : null;\r\n        return {\r\n          headers: {\r\n            authorization: token ? `Bearer ${token}` : undefined\r\n          }\r\n        };\r\n      }\r\n    }\r\n  });\r\n\r\n  const httpLink = new HttpLink({\r\n    uri: 'https://nekoma.herokuapp.com/v1/graphql'\r\n  });\r\n\r\n  const request = async operation => {\r\n    const token = isAuthenticated ? await getTokenSilently() : null;\r\n    operation.setContext({\r\n      headers: {\r\n        authorization: token ? `Bearer ${token}` : undefined\r\n      }\r\n    });\r\n  };\r\n\r\n  const requestLink = new ApolloLink(\r\n    (operation, forward) =>\r\n      new Observable(observer => {\r\n        let handle;\r\n        Promise.resolve(operation)\r\n          .then(oper => request(oper))\r\n          .then(() => {\r\n            handle = forward(operation).subscribe({\r\n              next: observer.next.bind(observer),\r\n              error: observer.error.bind(observer),\r\n              complete: observer.complete.bind(observer)\r\n            });\r\n          })\r\n          .catch(observer.error.bind(observer));\r\n\r\n        return () => {\r\n          if (handle) handle.unsubscribe();\r\n        };\r\n      })\r\n  );\r\n\r\n  const link = split(\r\n    // split based on operation type\r\n    ({ query }) => {\r\n      const { kind, operation } = getMainDefinition(query);\r\n      return kind === 'OperationDefinition' && operation === 'subscription';\r\n    },\r\n    wsLink,\r\n    httpLink\r\n  );\r\n\r\n  const client = new ApolloClient({\r\n    link: ApolloLink.from([requestLink, link]),\r\n    cache: new InMemoryCache()\r\n    // uri: 'https://nekoma.herokuapp.com/v1/graphql',\r\n  });\r\n\r\n  return <ApolloProvider client={client}>{children}</ApolloProvider>;\r\n};\r\n"],"sourceRoot":""}