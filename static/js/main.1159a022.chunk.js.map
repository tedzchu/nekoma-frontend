{"version":3,"sources":["react-auth0-spa.js","views/Home.js","views/Login.js","tables/UserTable.js","forms/AddUserForm.js","forms/EditUserForm.js","views/Users.js","components/PrivateRoute.js","tables/ProductTable.js","components/queries.js","forms/products/AddProductForm.js","components/Header.js","components/modal/Modal.js","components/modal/useModal.js","forms/products/EditProductForm.js","views/products/Products.js","views/products/Product.js","tables/EventTable.js","views/events/Events.js","views/sales/Sales.js","App.js","utils/history.js","index.js","GraphQLProvider.js"],"names":["DEFAULT_REDIRECT_CALLBACK","window","history","replaceState","document","title","location","pathname","Auth0Context","React","createContext","useAuth0","useContext","Home","className","to","Login","loginWithRedirect","onClick","UserTable","props","users","length","map","user","key","id","name","username","editRow","deleteUser","colSpan","AddUserForm","initialFormState","useState","setUser","handleInputChange","event","console","log","target","value","onSubmit","preventDefault","addUser","type","onChange","EditUserForm","currentUser","useEffect","updateUser","setEditing","Users","setUsers","editing","setCurrentUser","updatedUser","filter","PrivateRoute","Component","component","path","rest","loading","isAuthenticated","a","async","appState","targetUrl","render","ProductTable","products","product","sku","category","date","enabled","icon","count","restock","deleteProduct","gql","ADD_PRODUCT","CATEGORIES_SUBSCRIPTION","AddProductForm","categories","categoryList","today","Date","toLocaleDateString","useMutation","addProduct","data","setProduct","setDate","autoComplete","find","cat","sku_code","concat","generateSKU","parseInt","variables","cat_id","date_added","hide","selected","Header","logout","back","size","Modal","isShowing","content","ReactDOM","createPortal","Fragment","aria-modal","aria-hidden","tabIndex","role","data-dismiss","body","useModal","setIsShowing","toggle","EditProductForm","currentProduct","updateProduct","cancelUpdate","Products","categoriesData","useSubscription","error","message","CategorySubscription","setProducts","setCurrentProduct","addProductForm","editProductForm","updatedProduct","Product","match","params","getProduct","EventTable","events","deleteEvent","Events","setEvents","Sales","eventId","salesData","day","items","total","cc","female","eventSales","setSales","App","exact","createBrowserHistory","library","add","faCheck","faTimes","faCoffee","faArrowLeft","basename","process","children","onRedirectCallback","initOptions","setIsAuthenticated","auth0Client","setAuth0","setLoading","popupOpen","setPopupOpen","createAuth0Client","auth0FromHook","search","includes","handleRedirectCallback","getUser","initAuth0","Provider","loginWithPopup","getIdTokenClaims","getTokenSilently","getTokenWithPopup","domain","config","client_id","clientId","audience","redirect_uri","origin","push","wsLink","WebSocketLink","uri","options","reconnect","connectionParams","token","headers","authorization","undefined","httpLink","HttpLink","requestLink","ApolloLink","operation","forward","Observable","observer","handle","Promise","resolve","then","oper","setContext","request","subscribe","next","bind","complete","catch","unsubscribe","link","split","query","getMainDefinition","kind","client","ApolloClient","from","cache","InMemoryCache","getElementById"],"mappings":"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","file":"static/js/main.1159a022.chunk.js","sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\r\nimport createAuth0Client from '@auth0/auth0-spa-js';\r\n\r\nconst DEFAULT_REDIRECT_CALLBACK = () =>\r\n  window.history.replaceState({}, document.title, window.location.pathname);\r\n\r\nexport const Auth0Context = React.createContext();\r\nexport const useAuth0 = () => useContext(Auth0Context);\r\nexport const Auth0Provider = ({\r\n  children,\r\n  onRedirectCallback = DEFAULT_REDIRECT_CALLBACK,\r\n  ...initOptions\r\n}) => {\r\n  const [isAuthenticated, setIsAuthenticated] = useState();\r\n  const [user, setUser] = useState();\r\n  const [auth0Client, setAuth0] = useState();\r\n  const [loading, setLoading] = useState(true);\r\n  const [popupOpen, setPopupOpen] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const initAuth0 = async () => {\r\n      const auth0FromHook = await createAuth0Client(initOptions);\r\n      setAuth0(auth0FromHook);\r\n\r\n      if (window.location.search.includes('code=')) {\r\n        const { appState } = await auth0FromHook.handleRedirectCallback();\r\n        onRedirectCallback(appState);\r\n      }\r\n\r\n      const isAuthenticated = await auth0FromHook.isAuthenticated();\r\n\r\n      setIsAuthenticated(isAuthenticated);\r\n\r\n      if (isAuthenticated) {\r\n        const user = await auth0FromHook.getUser();\r\n        setUser(user);\r\n      }\r\n\r\n      setLoading(false);\r\n    };\r\n    initAuth0();\r\n    // eslint-disable-next-line\r\n  }, []);\r\n\r\n  const loginWithPopup = async (params = {}) => {\r\n    setPopupOpen(true);\r\n    try {\r\n      await auth0Client.loginWithPopup(params);\r\n    } catch (error) {\r\n      console.error(error);\r\n    } finally {\r\n      setPopupOpen(false);\r\n    }\r\n    const user = await auth0Client.getUser();\r\n    setUser(user);\r\n    setIsAuthenticated(true);\r\n  };\r\n\r\n  const handleRedirectCallback = async () => {\r\n    setLoading(true);\r\n    await auth0Client.handleRedirectCallback();\r\n    const user = await auth0Client.getUser();\r\n    setLoading(false);\r\n    setIsAuthenticated(true);\r\n    setUser(user);\r\n  };\r\n  return (\r\n    <Auth0Context.Provider\r\n      value={{\r\n        isAuthenticated,\r\n        user,\r\n        loading,\r\n        popupOpen,\r\n        loginWithPopup,\r\n        handleRedirectCallback,\r\n        getIdTokenClaims: (...p) => auth0Client.getIdTokenClaims(...p),\r\n        loginWithRedirect: (...p) => auth0Client.loginWithRedirect(...p),\r\n        getTokenSilently: (...p) => auth0Client.getTokenSilently(...p),\r\n        getTokenWithPopup: (...p) => auth0Client.getTokenWithPopup(...p),\r\n        logout: (...p) => auth0Client.logout(...p)\r\n      }}\r\n    >\r\n      {children}\r\n    </Auth0Context.Provider>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst Home = () => {\r\n  return (\r\n    <div className=\"container\">\r\n      <Link to=\"/products\">\r\n        <div className=\"split left\">\r\n          <div className=\"centered\">\r\n            <h1>Products</h1>\r\n          </div>\r\n        </div>\r\n      </Link>\r\n      <Link to=\"/events\">\r\n        <div className=\"split right\">\r\n          <div className=\"centered\">\r\n            <h1>Events</h1>\r\n          </div>\r\n        </div>\r\n      </Link>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","import React from 'react';\r\nimport { useAuth0 } from '../react-auth0-spa';\r\n\r\nconst Login = () => {\r\n  const { loginWithRedirect } = useAuth0();\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <div className=\"split left\" onClick={() => loginWithRedirect({})}>\r\n        <div className=\"centered\">\r\n          <h1>Log In</h1>\r\n        </div>\r\n      </div>\r\n      <div className=\"split right\">\r\n        <div className=\"centered\">\r\n          <h1>Sign Up</h1>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n","import React from 'react';\r\n\r\nconst UserTable = props => (\r\n  <table>\r\n    <thead>\r\n      <tr>\r\n        <th>Name</th>\r\n        <th>Username</th>\r\n        <th>Actions</th>\r\n      </tr>\r\n    </thead>\r\n    <tbody>\r\n      {props.users.length > 0 ? (\r\n        props.users.map(user => (\r\n          <tr key={user.id}>\r\n            <td>{user.name}</td>\r\n            <td>{user.username}</td>\r\n            <td>\r\n              <button\r\n                onClick={() => props.editRow(user)}\r\n                className=\"button muted-button\"\r\n              >\r\n                Edit\r\n              </button>\r\n              <button\r\n                onClick={() => props.deleteUser(user.id)}\r\n                className=\"button muted-button\"\r\n              >\r\n                Delete\r\n              </button>\r\n            </td>\r\n          </tr>\r\n        ))\r\n      ) : (\r\n        <tr>\r\n          <td colSpan={3}>No users</td>\r\n        </tr>\r\n      )}\r\n    </tbody>\r\n  </table>\r\n);\r\n\r\nexport default UserTable;\r\n","import React, { useState } from 'react';\r\n\r\nconst AddUserForm = props => {\r\n  const initialFormState = { id: null, name: '', username: '' };\r\n  const [user, setUser] = useState(initialFormState);\r\n\r\n  const handleInputChange = event => {\r\n    console.log(event);\r\n    const { name, value } = event.target;\r\n\r\n    setUser({ ...user, [name]: value });\r\n  };\r\n\r\n  return (\r\n    <form\r\n      onSubmit={event => {\r\n        event.preventDefault();\r\n        if (!user.name || !user.username) return;\r\n\r\n        props.addUser(user);\r\n        setUser(initialFormState);\r\n      }}\r\n    >\r\n      <label>Name</label>\r\n      <input\r\n        type=\"text\"\r\n        name=\"name\"\r\n        value={user.name}\r\n        onChange={handleInputChange}\r\n      />\r\n      <label>Username</label>\r\n      <input\r\n        type=\"text\"\r\n        name=\"username\"\r\n        value={user.username}\r\n        onChange={handleInputChange}\r\n      />\r\n      <button>Add new user</button>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default AddUserForm;\r\n","import React, { useState, useEffect } from 'react';\r\n\r\nconst EditUserForm = props => {\r\n  const [user, setUser] = useState(props.currentUser);\r\n\r\n  const handleInputChange = event => {\r\n    const { name, value } = event.target;\r\n\r\n    setUser({ ...user, [name]: value });\r\n  };\r\n\r\n  useEffect(() => {\r\n    setUser(props.currentUser);\r\n  }, [props]);\r\n\r\n  return (\r\n    <form\r\n      onSubmit={event => {\r\n        event.preventDefault();\r\n\r\n        props.updateUser(user.id, user);\r\n      }}\r\n    >\r\n      <label>Name</label>\r\n      <input\r\n        type=\"text\"\r\n        name=\"name\"\r\n        value={user.name}\r\n        onChange={handleInputChange}\r\n      />\r\n      <button>Update user</button>\r\n      <button\r\n        onClick={() => props.setEditing(false)}\r\n        className=\"button muted-button\"\r\n      >\r\n        Cancel\r\n      </button>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default EditUserForm;\r\n","import React, { useState } from 'react';\r\nimport UserTable from '../tables/UserTable';\r\nimport AddUserForm from '../forms/AddUserForm';\r\nimport EditUserForm from '../forms/EditUserForm';\r\n\r\nconst Users = () => {\r\n  const usersData = [\r\n    { id: 1, name: 'Jake', username: 'sk1llz7007' },\r\n    { id: 2, name: 'Erik', username: 'erik1125e' },\r\n    { id: 3, name: 'Mara', username: 'urmom' }\r\n  ];\r\n\r\n  const [users, setUsers] = useState(usersData);\r\n\r\n  const addUser = user => {\r\n    user.id = users.length + 1;\r\n    setUsers([...users, user]);\r\n  };\r\n\r\n  const deleteUser = id => {\r\n    setUsers(users.filter(user => user.id !== id));\r\n  };\r\n\r\n  const [editing, setEditing] = useState(false);\r\n  const initialFormState = { id: null, name: '', username: '' };\r\n  const [currentUser, setCurrentUser] = useState(initialFormState);\r\n\r\n  const editRow = user => {\r\n    setEditing(true);\r\n\r\n    setCurrentUser({ id: user.id, name: user.name, username: user.username });\r\n  };\r\n\r\n  const updateUser = (id, updatedUser) => {\r\n    setEditing(false);\r\n\r\n    setUsers(users.map(user => (user.id === id ? updatedUser : user)));\r\n  };\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <h1>CRUD App with Hooks</h1>\r\n      <div className=\"flex-row\">\r\n        <div className=\"flex-large\">\r\n          {editing ? (\r\n            <div>\r\n              <h2>Edit user</h2>\r\n              <EditUserForm\r\n                editing={editing}\r\n                setEditing={setEditing}\r\n                currentUser={currentUser}\r\n                updateUser={updateUser}\r\n              />\r\n            </div>\r\n          ) : (\r\n            <div>\r\n              <h2>Add user</h2>\r\n              <AddUserForm addUser={addUser} />\r\n            </div>\r\n          )}\r\n        </div>\r\n        <div className=\"flex-large\">\r\n          <h2>View users</h2>\r\n          <UserTable users={users} editRow={editRow} deleteUser={deleteUser} />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Users;\r\n","import React, { useEffect } from 'react';\r\nimport { Route } from 'react-router-dom';\r\nimport { useAuth0 } from '../react-auth0-spa';\r\n\r\nconst PrivateRoute = ({ component: Component, path, ...rest }) => {\r\n  const { loading, isAuthenticated, loginWithRedirect } = useAuth0();\r\n\r\n  useEffect(() => {\r\n    if (loading || isAuthenticated) {\r\n      return;\r\n    }\r\n    const fn = async () => {\r\n      await loginWithRedirect({\r\n        appState: { targetUrl: path }\r\n      });\r\n    };\r\n    fn();\r\n  }, [loading, isAuthenticated, loginWithRedirect, path]);\r\n\r\n  const render = props =>\r\n    isAuthenticated === true ? <Component {...props} /> : null;\r\n\r\n  return <Route path={path} render={render} {...rest} />;\r\n};\r\n\r\nexport default PrivateRoute;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\n\r\nconst ProductTable = props => (\r\n  <table>\r\n    <thead>\r\n      <tr>\r\n        <th>SKU</th>\r\n        <th>Name</th>\r\n        <th>Category</th>\r\n        <th>Date Added</th>\r\n        <th>Enabled</th>\r\n        <th>Count</th>\r\n        <th>Last Restock Date</th>\r\n        <th></th>\r\n      </tr>\r\n    </thead>\r\n    <tbody>\r\n      {props.products.length > 0 ? (\r\n        props.products.map(product => (\r\n          <tr key={product.id}>\r\n            <td>{product.sku}</td>\r\n            <td>{product.name}</td>\r\n            <td>{product.category}</td>\r\n            <td>{product.date}</td>\r\n            <td>\r\n              {product.enabled ? (\r\n                <FontAwesomeIcon icon=\"check\" />\r\n              ) : (\r\n                <FontAwesomeIcon icon=\"times\" />\r\n              )}\r\n            </td>\r\n            <td>{product.count}</td>\r\n            <td>{product.restock}</td>\r\n            <td>\r\n              <Link to={'/products/' + product.id}>\r\n                <button>Details</button>\r\n              </Link>\r\n              <button\r\n                onClick={() => props.editRow(product)}\r\n                className=\"button muted-button\"\r\n              >\r\n                Edit\r\n              </button>\r\n              <button\r\n                onClick={() => props.deleteProduct(product.id)}\r\n                className=\"button muted-button\"\r\n              >\r\n                Delete\r\n              </button>\r\n            </td>\r\n          </tr>\r\n        ))\r\n      ) : (\r\n        <tr>\r\n          <td colSpan={8}>No products</td>\r\n        </tr>\r\n      )}\r\n    </tbody>\r\n  </table>\r\n);\r\n\r\nexport default ProductTable;\r\n","import gql from 'graphql-tag';\r\n// good example on auth header mutations: https://www.apollographql.com/docs/tutorial/mutations/\r\nexport const PRODUCTS = gql`\r\n  query {\r\n    products {\r\n      sku\r\n      name\r\n      category_id\r\n      date_created\r\n      enabled\r\n      count\r\n      last_restock\r\n    }\r\n  }\r\n`;\r\n\r\nexport const CATEGORIES = gql`\r\n  query {\r\n    categories {\r\n      id\r\n      name\r\n      sku_code\r\n      products {\r\n        sku\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\n// mutations: https://devhoot.ooo/build-a-react-graphql-app-with-apollo-client-powered-by-hasura-engine/\r\nexport const ADD_PRODUCT = gql`\r\n  mutation($name: String!, $sku: String!, $count: Int!, $cat_id: Int!, $date_added: date!){\r\n    insert_products(\r\n      objects: [\r\n        {\r\n          name: $name,\r\n          sku: $sku,\r\n          count: $count,\r\n          category_id: $cat_id,\r\n          date_created: $date_added\r\n        }\r\n      ]\r\n    ) {\r\n      returning {\r\n        id\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const CATEGORIES_SUBSCRIPTION = gql`\r\n  subscription {\r\n    categories {\r\n      id\r\n      name\r\n      sku_code\r\n      products {\r\n        sku\r\n      }\r\n    }\r\n  }\r\n`;","import React, { useState } from 'react';\r\nimport DatePicker from 'react-datepicker';\r\nimport { useMutation } from '@apollo/react-hooks';\r\nimport { ADD_PRODUCT } from '../../components/queries';\r\n\r\nconst AddProductForm = props => {\r\n  const categories = props.categoryList\r\n  const today = new Date();\r\n  const initialFormState = {\r\n    id: null,\r\n    sku: '',\r\n    name: '',\r\n    category: '',\r\n    date: today.toLocaleDateString(),\r\n    enabled: true,\r\n    count: '',\r\n    restock: ''\r\n  };\r\n  const [addProduct, { data }] = useMutation(ADD_PRODUCT);\r\n  const [product, setProduct] = useState(initialFormState);\r\n  const [date, setDate] = useState(today);\r\n\r\n  const generateSKU = id => {\r\n    const category = categories.find(cat => {\r\n      return cat.id === id;\r\n    });\r\n    return category.sku_code.concat((category.products.length + 1));\r\n  };\r\n\r\n  const handleInputChange = event => {\r\n    const { name, value } = event.target;\r\n\r\n    setProduct({ ...product, [name]: value });\r\n  };\r\n\r\n  const handleDateChange = date => {\r\n    setDate(date);\r\n\r\n    setProduct({ ...product, date: date.toLocaleDateString() });\r\n  };\r\n\r\n  return (\r\n    <form\r\n      autoComplete=\"off\"\r\n      onSubmit={event => {\r\n        event.preventDefault();\r\n        if (!product.name || !product.category || !product.count) return;\r\n        product.sku = generateSKU(parseInt(product.category));\r\n        product.restock = product.date;\r\n        addProduct({ variables: {\r\n          name: product.name,\r\n          sku: product.sku,\r\n          count: parseInt(product.count),\r\n          cat_id: parseInt(product.category),\r\n          date_added: product.date}});\r\n        // this goes away after subscriptions v\r\n        props.addProduct(product);\r\n        setProduct(initialFormState);\r\n\r\n        props.hide();\r\n      }}\r\n    >\r\n      <div className=\"flex-row\">\r\n        <div className=\"flex-large\">\r\n          <label>Name</label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"name\"\r\n            value={product.name}\r\n            onChange={handleInputChange}\r\n          />\r\n          <label>Date Added</label>\r\n          <DatePicker name=\"date\" selected={date} onChange={handleDateChange} />\r\n        </div>\r\n        <div className=\"flex-large\">\r\n          <label>Category</label>\r\n          <select\r\n            name=\"category\"\r\n            value={product.category}\r\n            onChange={handleInputChange}\r\n          >\r\n            <option value=\"\">Select a category</option>\r\n            {categories.map(category => (\r\n              <option key={category.sku_code} value={category.id}>\r\n                {category.name}\r\n              </option>\r\n            ))}\r\n          </select>\r\n          <label>Initial Count</label>\r\n          <input\r\n            type=\"number\"\r\n            name=\"count\"\r\n            value={product.count}\r\n            onChange={handleInputChange}\r\n          />\r\n        </div>\r\n      </div>\r\n      <button>Save</button>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default AddProductForm;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { useAuth0 } from '../react-auth0-spa';\r\n\r\nconst Header = props => {\r\n  const { logout } = useAuth0();\r\n\r\n  return (\r\n    <div className=\"header\">\r\n      <Link to={props.back}>\r\n        <FontAwesomeIcon icon=\"arrow-left\" size=\"2x\" />\r\n      </Link>\r\n      <button onClick={() => logout()}>Log out</button>\r\n      <h1>{props.title}</h1>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","//\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\n\r\nconst Modal = ({ isShowing, hide, title, content }) =>\r\n  isShowing\r\n    ? ReactDOM.createPortal(\r\n        <React.Fragment>\r\n          <div className=\"modal-overlay\" />\r\n          <div\r\n            className=\"modal-wrapper\"\r\n            aria-modal\r\n            aria-hidden\r\n            tabIndex={-1}\r\n            role=\"dialog\"\r\n          >\r\n            <div className=\"modal\">\r\n              <div className=\"modal-header\">\r\n                <h2>{title}</h2>\r\n                <FontAwesomeIcon\r\n                  icon=\"times\"\r\n                  data-dismiss=\"modal\"\r\n                  onClick={hide}\r\n                />\r\n              </div>\r\n              <div>{content}</div>\r\n            </div>\r\n          </div>\r\n        </React.Fragment>,\r\n        document.body\r\n      )\r\n    : null;\r\n\r\nexport default Modal;\r\n","//https://upmostly.com/tutorials/modal-components-react-custom-hooks\r\nimport { useState } from 'react';\r\n\r\nconst useModal = () => {\r\n  const [isShowing, setIsShowing] = useState(false);\r\n\r\n  function toggle() {\r\n    setIsShowing(!isShowing);\r\n  }\r\n\r\n  return {\r\n    isShowing,\r\n    toggle\r\n  };\r\n};\r\n\r\nexport default useModal;\r\n","import React, { useState, useEffect } from 'react';\r\n\r\nconst EditProductForm = props => {\r\n  const categories = [\r\n    { name: 'Lily', sku: 'lil' },\r\n    { name: 'Raphie', sku: 'rph' },\r\n    { name: 'Tiny', sku: 'tny' }\r\n  ];\r\n  const [product, setProduct] = useState(props.currentProduct);\r\n\r\n  const handleInputChange = event => {\r\n    const { name, value } = event.target;\r\n\r\n    setProduct({ ...product, [name]: value });\r\n  };\r\n\r\n  useEffect(() => {\r\n    setProduct(props.currentProduct);\r\n  }, [props]);\r\n\r\n  return (\r\n    <form\r\n      onSubmit={event => {\r\n        event.preventDefault();\r\n        console.log(product);\r\n        props.updateProduct(product.id, product);\r\n      }}\r\n    >\r\n      <div className=\"flex-row\">\r\n        <div className=\"flex-large\">\r\n          <label>Name</label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"name\"\r\n            value={product.name}\r\n            onChange={handleInputChange}\r\n          />\r\n        </div>\r\n        <div className=\"flex-large\">\r\n          <label>Category</label>\r\n          <select\r\n            name=\"category\"\r\n            value={product.category}\r\n            onChange={handleInputChange}\r\n          >\r\n            <option value=\"\">Select a category</option>\r\n            {categories.map(category => (\r\n              <option key={category.sku} value={category.name}>\r\n                {category.name}\r\n              </option>\r\n            ))}\r\n          </select>\r\n        </div>\r\n      </div>\r\n      <button>Update product</button>\r\n      <button\r\n        onClick={() => props.cancelUpdate()}\r\n        className=\"button muted-button\"\r\n      >\r\n        Cancel\r\n      </button>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default EditProductForm;\r\n","import React, { useState } from 'react';\r\nimport ProductTable from '../../tables/ProductTable';\r\nimport AddProductForm from '../../forms/products/AddProductForm';\r\nimport Header from '../../components/Header';\r\nimport Modal from '../../components/modal/Modal';\r\nimport useModal from '../../components/modal/useModal';\r\nimport EditProductForm from '../../forms/products/EditProductForm';\r\nimport { useQuery, useSubscription } from '@apollo/react-hooks';\r\nimport { CATEGORIES, PRODUCTS, CATEGORIES_SUBSCRIPTION } from '../../components/queries';\r\n\r\nconst CategoryList = () => {\r\n  const { data, loading, error } = useQuery(CATEGORIES);\r\n\r\n  if (loading) return 'Loading';\r\n  if (error) return `Error: ${error.message}`;\r\n  if (!data) return 'None found';\r\n\r\n  return data.categories;\r\n};\r\n\r\nconst CategorySubscription = () => {\r\n  const { data, loading, error } = useSubscription(CATEGORIES_SUBSCRIPTION);\r\n\r\n  if (loading) return 'Loading';\r\n  if (error) return `Error: ${error.message}`;\r\n  if (!data) return 'None found';\r\n\r\n  return data.categories;\r\n};\r\n\r\nconst Products = () => {\r\n  const categoriesData = CategorySubscription();\r\n  const productsData = [\r\n    {\r\n      id: 1,\r\n      sku: 'sku-2',\r\n      name: 'product',\r\n      category: 'cat',\r\n      date: 'january',\r\n      enabled: true,\r\n      count: 29,\r\n      restock: '01/09/2020'\r\n    },\r\n    {\r\n      id: 2,\r\n      sku: 'sku-5',\r\n      name: 'product2',\r\n      category: 'keychain',\r\n      date: 'february',\r\n      enabled: false,\r\n      count: 10,\r\n      restock: '11/26/2019'\r\n    },\r\n    {\r\n      id: 3,\r\n      sku: 'sku-1',\r\n      name: 'product3',\r\n      category: 'poster',\r\n      date: 'march',\r\n      enabled: true,\r\n      count: 43,\r\n      restock: '01/09/2020'\r\n    },\r\n    {\r\n      id: 4,\r\n      sku: 'sku-4',\r\n      name: 'product4',\r\n      category: 'pin',\r\n      date: 'april',\r\n      enabled: true,\r\n      count: 17,\r\n      restock: '12/15/2019'\r\n    },\r\n    {\r\n      id: 5,\r\n      sku: 'sku-6',\r\n      name: 'product5',\r\n      category: 'cat',\r\n      date: 'may',\r\n      enabled: false,\r\n      count: 3,\r\n      restock: '10/31/2019'\r\n    }\r\n  ];\r\n\r\n  const [products, setProducts] = useState(productsData);\r\n  const { isShowing, toggle } = useModal();\r\n\r\n  const AddProduct = product => {\r\n    setProducts([...products, product]);\r\n  };\r\n\r\n  const deleteProduct = id => {\r\n    setProducts(products.filter(product => product.id !== id));\r\n  };\r\n\r\n  const [editing, setEditing] = useState(false);\r\n  const initialFormState = { id: null, name: '', category: '' };\r\n  const [currentProduct, setCurrentProduct] = useState(initialFormState);\r\n\r\n  const editRow = product => {\r\n    setEditing(true);\r\n    toggle();\r\n    setCurrentProduct({\r\n      id: product.id,\r\n      name: product.name,\r\n      category: product.category\r\n    });\r\n  };\r\n\r\n  const updateProduct = (id, updatedProduct) => {\r\n    setEditing(false);\r\n    toggle();\r\n    setProducts(\r\n      products.map(product => (product.id === id ? updatedProduct : product))\r\n    );\r\n  };\r\n\r\n  const cancelUpdate = () => {\r\n    setEditing(false);\r\n    toggle();\r\n  };\r\n\r\n  const addProductForm = (\r\n    <AddProductForm addProduct={AddProduct} hide={toggle} categoryList={categoriesData} />\r\n  );\r\n  const editProductForm = (\r\n    <EditProductForm\r\n      editing={editing}\r\n      cancelUpdate={cancelUpdate}\r\n      currentProduct={currentProduct}\r\n      updateProduct={updateProduct}\r\n    />\r\n  );\r\n\r\n  return (\r\n    <div className=\"full-container\">\r\n      <Header title=\"Products\" back=\"/\" />\r\n      <Modal\r\n        isShowing={isShowing}\r\n        hide={toggle}\r\n        title={editing ? 'Editing ' + currentProduct.name : 'Add a new product'}\r\n        content={editing ? editProductForm : addProductForm}\r\n      />\r\n      <div className=\"container\">\r\n        <button onClick={toggle}>Add new product</button>\r\n        <div className=\"flex-large\">\r\n          <ProductTable\r\n            products={products}\r\n            editRow={editRow}\r\n            deleteProduct={deleteProduct}\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Products;\r\n","import React, { useState, useEffect } from 'react';\r\nimport Header from '../../components/Header';\r\n\r\nconst Product = props => {\r\n  const initialProductState = {\r\n    product: {},\r\n    loading: true\r\n  };\r\n\r\n  const [product, setProduct] = useState(initialProductState);\r\n\r\n  useEffect(() => {\r\n    const getProduct = async () => {\r\n      // probably await here eventually?\r\n      // const { data } = await\r\n\r\n      const data = { id: props.match.params.id };\r\n      setProduct(data);\r\n    };\r\n\r\n    getProduct();\r\n  }, []);\r\n\r\n  return product.loading ? (\r\n    <div>Loading...</div>\r\n  ) : (\r\n    <div className=\"full-container\">\r\n      <Header title={product.id} back=\"/products\" />\r\n      <div className=\"container\">\r\n        <h2>Some data about {product.id}</h2>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Product;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst EventTable = props => (\r\n  <table>\r\n    <thead>\r\n      <tr>\r\n        <th>Name</th>\r\n        <th>Location</th>\r\n        <th>Date</th>\r\n        <th></th>\r\n      </tr>\r\n    </thead>\r\n    <tbody>\r\n      {props.events.length > 0 ? (\r\n        props.events.map(event => (\r\n          <tr key={event.id}>\r\n            <td>{event.name}</td>\r\n            <td>{event.location}</td>\r\n            <td>{event.date}</td>\r\n            <td>\r\n              <Link to={'/events/' + event.id}>\r\n                <button>Sales</button>\r\n              </Link>\r\n              <button\r\n                onClick={() => props.editRow(event)}\r\n                className=\"button muted-button\"\r\n              >\r\n                Edit\r\n              </button>\r\n              <button\r\n                onClick={() => props.deleteEvent(event.id)}\r\n                className=\"button muted-button\"\r\n              >\r\n                Delete\r\n              </button>\r\n            </td>\r\n          </tr>\r\n        ))\r\n      ) : (\r\n        <tr>\r\n          <td colSpan={4}>No events</td>\r\n        </tr>\r\n      )}\r\n    </tbody>\r\n  </table>\r\n);\r\n\r\nexport default EventTable;\r\n","import React, { useState } from 'react';\r\nimport EventTable from '../../tables/EventTable';\r\nimport Header from '../../components/Header';\r\n\r\nconst Events = () => {\r\n  const eventsData = [\r\n    { id: 1, name: 'a convention', location: 'los angeles', date: 'april' },\r\n    {\r\n      id: 2,\r\n      name: 'another convention',\r\n      location: 'sacramento',\r\n      date: 'february'\r\n    },\r\n    { id: 3, name: 'convention', location: 'fresno', date: 'asdf' },\r\n    { id: 4, name: 'aon', location: 'new york city', date: 'date' },\r\n    { id: 5, name: 'convosid', location: 'seattle', date: '02/31/2020' },\r\n    { id: 6, name: 'dallasconvention', location: 'dallas', date: '9' },\r\n    {\r\n      id: 7,\r\n      name: 'RTX',\r\n      location: 'austin',\r\n      date: 'twelve twelve twentytwenty'\r\n    },\r\n    { id: 8, name: 'zotzotzot', location: 'irvine', date: 'pog' },\r\n    { id: 9, name: 'AX', location: 'los angeles', date: 'sad' }\r\n  ];\r\n\r\n  const [events, setEvents] = useState(eventsData);\r\n\r\n  const deleteEvent = id => {\r\n    setEvents(events.filter(event => event.id !== id));\r\n  };\r\n\r\n  return (\r\n    <div className=\"full-container\">\r\n      <Header title=\"Events\" back=\"/\" />\r\n      <div className=\"container\">\r\n        <button>Add new event</button>\r\n        <div className=\"flex-large\">\r\n          <EventTable events={events} deleteEvent={deleteEvent} />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Events;\r\n","import React, { useState, useEffect } from 'react';\r\n//import SalesTable from '../../tables/SalesTable'\r\nimport Header from '../../components/Header';\r\n\r\nconst Sales = props => {\r\n  const eventId = props.match.params.id;\r\n\r\n  console.log('fetching ' + eventId);\r\n  const initialEventSalesState = {\r\n    eventSales: {},\r\n    loading: true\r\n  };\r\n\r\n  const salesData = [\r\n    {\r\n      id: 1,\r\n      day: 2,\r\n      items: ['sku-1', 'sku-3'],\r\n      total: 20,\r\n      cc: true,\r\n      female: false\r\n    }\r\n  ];\r\n\r\n  const [sales, setSales] = useState(initialEventSalesState);\r\n\r\n  useEffect(() => {\r\n    const getSales = async () => {\r\n      // should have await function getting sales for id\r\n      const data = salesData;\r\n\r\n      setSales(data);\r\n    };\r\n    getSales();\r\n  }, []);\r\n\r\n  const deleteSale = id => {\r\n    setSales(sales.filter(sale => sale.id !== id));\r\n  };\r\n\r\n  return (\r\n    <div className=\"full-container\">\r\n      <Header title={'Sales for event ' + eventId} back=\"/events\" />\r\n      <div className=\"container\">\r\n        <button>Add new sale</button>\r\n        <div className=\"flex-large\">\r\n          {/* <SalesTable sales={sales} deleteSale={deleteSale} /> */}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Sales;\r\n","import React from 'react';\r\nimport { Route, Switch } from 'react-router-dom';\r\nimport { useAuth0 } from './react-auth0-spa';\r\nimport Home from './views/Home';\r\nimport Login from './views/Login';\r\nimport Users from './views/Users';\r\nimport PrivateRoute from './components/PrivateRoute';\r\nimport Products from './views/products/Products';\r\nimport Product from './views/products/Product';\r\nimport Events from './views/events/Events';\r\nimport Sales from './views/sales/Sales';\r\n\r\nconst App = () => {\r\n  const { isAuthenticated, loading } = useAuth0();\r\n\r\n  if (loading) {\r\n    return <div>Loading...</div>;\r\n  }\r\n  return (\r\n    <Switch>\r\n      {!isAuthenticated && <Route exact path=\"/\" component={Login} />}\r\n      {isAuthenticated && <Route exact path=\"/\" component={Home} />}\r\n      <PrivateRoute path=\"/users\" component={Users} />\r\n      <PrivateRoute exact path=\"/products\" component={Products} />\r\n      <PrivateRoute path=\"/products/:id\" component={Product} />\r\n      <PrivateRoute exact path=\"/events\" component={Events} />\r\n      <PrivateRoute path=\"/events/:id\" component={Sales} />\r\n    </Switch>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import { createBrowserHistory } from 'history';\r\nexport default createBrowserHistory();\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport { library } from '@fortawesome/fontawesome-svg-core';\r\nimport {\r\n  faCheck,\r\n  faTimes,\r\n  faCoffee,\r\n  faArrowLeft\r\n} from '@fortawesome/free-solid-svg-icons';\r\nimport './index.css';\r\nimport 'react-datepicker/dist/react-datepicker.css';\r\nimport App from './App';\r\n// import * as serviceWorker from \"./serviceWorker\";\r\nimport { Auth0Provider } from './react-auth0-spa';\r\nimport { GraphQLProvider } from './GraphQLProvider';\r\nimport config from './auth_config.json';\r\nimport history from './utils/history';\r\n\r\n// A function that routes the user to the right place\r\n// after login\r\nconst onRedirectCallback = appState => {\r\n  history.push(\r\n    appState && appState.targetUrl\r\n      ? appState.targetUrl\r\n      : window.location.pathname\r\n  );\r\n};\r\n\r\nlibrary.add(faCheck, faTimes, faCoffee, faArrowLeft);\r\n\r\nReactDOM.render(\r\n  <BrowserRouter basename={process.env.PUBLIC_URL}>\r\n    <Auth0Provider\r\n      domain={config.domain}\r\n      client_id={config.clientId}\r\n      audience={'https://nekoma.auth0.com/api/v2/'}\r\n      redirect_uri={window.location.origin + window.location.pathname}\r\n      onRedirectCallback={onRedirectCallback}\r\n    >\r\n      <GraphQLProvider>\r\n        <App />\r\n      </GraphQLProvider>\r\n    </Auth0Provider>\r\n  </BrowserRouter>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// serviceWorker.unregister();\r\n","import React from 'react';\r\nimport ApolloClient from 'apollo-client';\r\nimport { ApolloProvider } from '@apollo/react-hooks';\r\nimport { useAuth0 } from './react-auth0-spa';\r\n\r\n// Setup the network \"links\"\r\nimport { WebSocketLink } from 'apollo-link-ws';\r\nimport { HttpLink } from 'apollo-link-http';\r\nimport { split, ApolloLink, Observable } from 'apollo-link';\r\nimport { getMainDefinition } from 'apollo-utilities';\r\nimport { InMemoryCache } from 'apollo-cache-inmemory';\r\n\r\n// https://github.com/auth0-samples/auth0-javascript-samples/issues/79\r\n// https://github.com/vonkanehoffen/planning-alerts/blob/master/frontend-web/src/GraphQLProvider.js\r\n\r\n/**\r\n * Apollo Provider with Auth0 token.\r\n * @param children\r\n * @returns {*}\r\n * @constructor\r\n */\r\nexport const GraphQLProvider = ({ children }) => {\r\n  const { loading, isAuthenticated, getTokenSilently } = useAuth0();\r\n  if (loading) {\r\n    return <div>Loading...</div>;\r\n  }\r\n\r\n  // https://github.com/apollographql/apollo-client/issues/3967#issuecomment-450255702\r\n  const wsLink = new WebSocketLink({\r\n    uri: 'ws://nekoma.herokuapp.com/v1/graphql',\r\n    options: {\r\n      reconnect: true,\r\n      connectionParams: async () => {\r\n        const token = isAuthenticated ? await getTokenSilently() : null;\r\n        return {\r\n          headers: {\r\n            authorization: token ? `Bearer ${token}` : undefined\r\n          }\r\n        }\r\n      }\r\n    },\r\n  });\r\n  \r\n  const httpLink = new HttpLink({\r\n    uri: 'https://nekoma.herokuapp.com/v1/graphql',\r\n  });\r\n  \r\n  const request = async (operation) => {\r\n    const token = isAuthenticated ? await getTokenSilently() : null;\r\n    operation.setContext({\r\n      headers: {\r\n        authorization: token ? `Bearer ${token}` : undefined\r\n      }\r\n    });\r\n  };\r\n  \r\n  const requestLink = new ApolloLink((operation, forward) =>\r\n    new Observable(observer => {\r\n      let handle;\r\n      Promise.resolve(operation)\r\n        .then(oper => request(oper))\r\n        .then(() => {\r\n          handle = forward(operation).subscribe({\r\n            next: observer.next.bind(observer),\r\n            error: observer.error.bind(observer),\r\n            complete: observer.complete.bind(observer),\r\n          });\r\n        })\r\n        .catch(observer.error.bind(observer));\r\n  \r\n      return () => {\r\n        if (handle) handle.unsubscribe();\r\n      };\r\n    })\r\n  );\r\n\r\n  const link = split(\r\n    // split based on operation type\r\n    ({ query }) => {\r\n      const { kind, operation } = getMainDefinition(query);\r\n      return kind === 'OperationDefinition' && operation === 'subscription';\r\n    },\r\n    wsLink,\r\n    httpLink,\r\n  );\r\n\r\n  const client = new ApolloClient({\r\n    link: ApolloLink.from([\r\n      requestLink,\r\n      link,\r\n    ]),\r\n    cache: new InMemoryCache(),\r\n    // uri: 'https://nekoma.herokuapp.com/v1/graphql',\r\n  });\r\n\r\n  return <ApolloProvider client={client}>{children}</ApolloProvider>;\r\n};\r\n"],"sourceRoot":""}