{"version":3,"sources":["react-auth0-spa.js","views/Home.js","views/Login.js","tables/UserTable.js","forms/AddUserForm.js","forms/EditUserForm.js","views/Users.js","components/PrivateRoute.js","components/queries.js","tables/ProductTable.js","forms/products/AddProductForm.js","components/Header.js","components/modal/Modal.js","components/modal/useModal.js","forms/products/EditProductForm.js","views/products/Products.js","views/products/Product.js","tables/EventTable.js","views/events/Events.js","views/sales/Sales.js","App.js","utils/history.js","index.js","GraphQLProvider.js"],"names":["DEFAULT_REDIRECT_CALLBACK","window","history","replaceState","document","title","location","pathname","Auth0Context","React","createContext","useAuth0","useContext","Home","className","to","Login","loginWithRedirect","onClick","UserTable","props","users","length","map","user","key","id","name","username","editRow","deleteUser","colSpan","AddUserForm","initialFormState","useState","setUser","handleInputChange","event","console","log","target","value","onSubmit","preventDefault","addUser","type","onChange","EditUserForm","currentUser","useEffect","updateUser","setEditing","Users","setUsers","editing","setCurrentUser","updatedUser","filter","PrivateRoute","Component","component","path","rest","loading","isAuthenticated","a","async","appState","targetUrl","render","gql","ADD_PRODUCT","CATEGORIES_SUBSCRIPTION","PRODUCTS_SUBSCRIPTION","DELETE_PRODUCT","TOGGLE_ACTIVE","ProductTable","useSubscription","data","error","useMutation","toggleActive","message","products","product","sku","date_created","icon","enabled","variables","count","last_restock","state","find","deleteProduct","AddProductForm","categories","categoryList","today","Date","category","date","toLocaleDateString","restock","addProduct","setProduct","setDate","autoComplete","cat","skus","parseInt","substring","skuNumber","Math","max","sku_code","concat","generateSKU","cat_id","date_added","hide","selected","Header","logout","back","size","Modal","isShowing","content","ReactDOM","createPortal","Fragment","aria-modal","aria-hidden","tabIndex","role","data-dismiss","body","useModal","setIsShowing","toggle","EditProductForm","currentProduct","updateProduct","cancelUpdate","Products","categoriesData","CategorySubscription","setProducts","setCurrentProduct","addProductForm","editProductForm","updatedProduct","Product","useLocation","getProduct","EventTable","events","deleteEvent","Events","setEvents","Sales","eventId","match","params","salesData","day","items","total","cc","female","eventSales","setSales","App","exact","createBrowserHistory","library","add","faCheck","faTimes","faCoffee","faArrowLeft","basename","process","children","onRedirectCallback","initOptions","setIsAuthenticated","auth0Client","setAuth0","setLoading","popupOpen","setPopupOpen","createAuth0Client","auth0FromHook","search","includes","handleRedirectCallback","getUser","initAuth0","Provider","loginWithPopup","getIdTokenClaims","getTokenSilently","getTokenWithPopup","domain","config","client_id","clientId","audience","redirect_uri","push","wsLink","WebSocketLink","uri","options","reconnect","connectionParams","token","headers","authorization","undefined","httpLink","HttpLink","requestLink","ApolloLink","operation","forward","Observable","observer","handle","Promise","resolve","then","oper","setContext","request","subscribe","next","bind","complete","catch","unsubscribe","link","split","query","getMainDefinition","kind","client","ApolloClient","from","cache","InMemoryCache","getElementById"],"mappings":"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","file":"static/js/main.44e3c606.chunk.js","sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\nimport createAuth0Client from '@auth0/auth0-spa-js';\n\nconst DEFAULT_REDIRECT_CALLBACK = () =>\n  window.history.replaceState({}, document.title, window.location.pathname);\n\nexport const Auth0Context = React.createContext();\nexport const useAuth0 = () => useContext(Auth0Context);\nexport const Auth0Provider = ({\n  children,\n  onRedirectCallback = DEFAULT_REDIRECT_CALLBACK,\n  ...initOptions\n}) => {\n  const [isAuthenticated, setIsAuthenticated] = useState();\n  const [user, setUser] = useState();\n  const [auth0Client, setAuth0] = useState();\n  const [loading, setLoading] = useState(true);\n  const [popupOpen, setPopupOpen] = useState(false);\n\n  useEffect(() => {\n    const initAuth0 = async () => {\n      const auth0FromHook = await createAuth0Client(initOptions);\n      setAuth0(auth0FromHook);\n\n      if (window.location.search.includes('code=')) {\n        const { appState } = await auth0FromHook.handleRedirectCallback();\n        onRedirectCallback(appState);\n      }\n\n      const isAuthenticated = await auth0FromHook.isAuthenticated();\n\n      setIsAuthenticated(isAuthenticated);\n\n      if (isAuthenticated) {\n        const user = await auth0FromHook.getUser();\n        setUser(user);\n      }\n\n      setLoading(false);\n    };\n    initAuth0();\n    // eslint-disable-next-line\n  }, []);\n\n  const loginWithPopup = async (params = {}) => {\n    setPopupOpen(true);\n    try {\n      await auth0Client.loginWithPopup(params);\n    } catch (error) {\n      console.error(error);\n    } finally {\n      setPopupOpen(false);\n    }\n    const user = await auth0Client.getUser();\n    setUser(user);\n    setIsAuthenticated(true);\n  };\n\n  const handleRedirectCallback = async () => {\n    setLoading(true);\n    await auth0Client.handleRedirectCallback();\n    const user = await auth0Client.getUser();\n    setLoading(false);\n    setIsAuthenticated(true);\n    setUser(user);\n  };\n  return (\n    <Auth0Context.Provider\n      value={{\n        isAuthenticated,\n        user,\n        loading,\n        popupOpen,\n        loginWithPopup,\n        handleRedirectCallback,\n        getIdTokenClaims: (...p) => auth0Client.getIdTokenClaims(...p),\n        loginWithRedirect: (...p) => auth0Client.loginWithRedirect(...p),\n        getTokenSilently: (...p) => auth0Client.getTokenSilently(...p),\n        getTokenWithPopup: (...p) => auth0Client.getTokenWithPopup(...p),\n        logout: (...p) => auth0Client.logout(...p)\n      }}\n    >\n      {children}\n    </Auth0Context.Provider>\n  );\n};\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nconst Home = () => {\n  return (\n    <div className=\"container\">\n      <Link to=\"/products\">\n        <div className=\"split left\">\n          <div className=\"centered\">\n            <h1>Products</h1>\n          </div>\n        </div>\n      </Link>\n      <Link to=\"/events\">\n        <div className=\"split right\">\n          <div className=\"centered\">\n            <h1>Events</h1>\n          </div>\n        </div>\n      </Link>\n    </div>\n  );\n};\n\nexport default Home;\n","import React from 'react';\nimport { useAuth0 } from '../react-auth0-spa';\n\nconst Login = () => {\n  const { loginWithRedirect } = useAuth0();\n\n  return (\n    <div className=\"container\">\n      <div className=\"split left\" onClick={() => loginWithRedirect({})}>\n        <div className=\"centered\">\n          <h1>Log In</h1>\n        </div>\n      </div>\n      <div className=\"split right\">\n        <div className=\"centered\">\n          <h1>Sign Up</h1>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Login;\n","import React from 'react';\n\nconst UserTable = props => (\n  <table>\n    <thead>\n      <tr>\n        <th>Name</th>\n        <th>Username</th>\n        <th>Actions</th>\n      </tr>\n    </thead>\n    <tbody>\n      {props.users.length > 0 ? (\n        props.users.map(user => (\n          <tr key={user.id}>\n            <td>{user.name}</td>\n            <td>{user.username}</td>\n            <td>\n              <button\n                onClick={() => props.editRow(user)}\n                className=\"button muted-button\"\n              >\n                Edit\n              </button>\n              <button\n                onClick={() => props.deleteUser(user.id)}\n                className=\"button muted-button\"\n              >\n                Delete\n              </button>\n            </td>\n          </tr>\n        ))\n      ) : (\n        <tr>\n          <td colSpan={3}>No users</td>\n        </tr>\n      )}\n    </tbody>\n  </table>\n);\n\nexport default UserTable;\n","import React, { useState } from 'react';\n\nconst AddUserForm = props => {\n  const initialFormState = { id: null, name: '', username: '' };\n  const [user, setUser] = useState(initialFormState);\n\n  const handleInputChange = event => {\n    console.log(event);\n    const { name, value } = event.target;\n\n    setUser({ ...user, [name]: value });\n  };\n\n  return (\n    <form\n      onSubmit={event => {\n        event.preventDefault();\n        if (!user.name || !user.username) return;\n\n        props.addUser(user);\n        setUser(initialFormState);\n      }}\n    >\n      <label>Name</label>\n      <input\n        type=\"text\"\n        name=\"name\"\n        value={user.name}\n        onChange={handleInputChange}\n      />\n      <label>Username</label>\n      <input\n        type=\"text\"\n        name=\"username\"\n        value={user.username}\n        onChange={handleInputChange}\n      />\n      <button>Add new user</button>\n    </form>\n  );\n};\n\nexport default AddUserForm;\n","import React, { useState, useEffect } from 'react';\n\nconst EditUserForm = props => {\n  const [user, setUser] = useState(props.currentUser);\n\n  const handleInputChange = event => {\n    const { name, value } = event.target;\n\n    setUser({ ...user, [name]: value });\n  };\n\n  useEffect(() => {\n    setUser(props.currentUser);\n  }, [props]);\n\n  return (\n    <form\n      onSubmit={event => {\n        event.preventDefault();\n\n        props.updateUser(user.id, user);\n      }}\n    >\n      <label>Name</label>\n      <input\n        type=\"text\"\n        name=\"name\"\n        value={user.name}\n        onChange={handleInputChange}\n      />\n      <button>Update user</button>\n      <button\n        onClick={() => props.setEditing(false)}\n        className=\"button muted-button\"\n      >\n        Cancel\n      </button>\n    </form>\n  );\n};\n\nexport default EditUserForm;\n","import React, { useState } from 'react';\nimport UserTable from '../tables/UserTable';\nimport AddUserForm from '../forms/AddUserForm';\nimport EditUserForm from '../forms/EditUserForm';\n\nconst Users = () => {\n  const usersData = [\n    { id: 1, name: 'Jake', username: 'sk1llz7007' },\n    { id: 2, name: 'Erik', username: 'erik1125e' },\n    { id: 3, name: 'Mara', username: 'urmom' }\n  ];\n\n  const [users, setUsers] = useState(usersData);\n\n  const addUser = user => {\n    user.id = users.length + 1;\n    setUsers([...users, user]);\n  };\n\n  const deleteUser = id => {\n    setUsers(users.filter(user => user.id !== id));\n  };\n\n  const [editing, setEditing] = useState(false);\n  const initialFormState = { id: null, name: '', username: '' };\n  const [currentUser, setCurrentUser] = useState(initialFormState);\n\n  const editRow = user => {\n    setEditing(true);\n\n    setCurrentUser({ id: user.id, name: user.name, username: user.username });\n  };\n\n  const updateUser = (id, updatedUser) => {\n    setEditing(false);\n\n    setUsers(users.map(user => (user.id === id ? updatedUser : user)));\n  };\n\n  return (\n    <div className=\"container\">\n      <h1>CRUD App with Hooks</h1>\n      <div className=\"flex-row\">\n        <div className=\"flex-large\">\n          {editing ? (\n            <div>\n              <h2>Edit user</h2>\n              <EditUserForm\n                editing={editing}\n                setEditing={setEditing}\n                currentUser={currentUser}\n                updateUser={updateUser}\n              />\n            </div>\n          ) : (\n            <div>\n              <h2>Add user</h2>\n              <AddUserForm addUser={addUser} />\n            </div>\n          )}\n        </div>\n        <div className=\"flex-large\">\n          <h2>View users</h2>\n          <UserTable users={users} editRow={editRow} deleteUser={deleteUser} />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Users;\n","import React, { useEffect } from 'react';\nimport { Route } from 'react-router-dom';\nimport { useAuth0 } from '../react-auth0-spa';\n\nconst PrivateRoute = ({ component: Component, path, ...rest }) => {\n  const { loading, isAuthenticated, loginWithRedirect } = useAuth0();\n\n  useEffect(() => {\n    if (loading || isAuthenticated) {\n      return;\n    }\n    const fn = async () => {\n      await loginWithRedirect({\n        appState: { targetUrl: path }\n      });\n    };\n    fn();\n  }, [loading, isAuthenticated, loginWithRedirect, path]);\n\n  const render = props =>\n    isAuthenticated === true ? <Component {...props} /> : null;\n\n  return <Route path={path} render={render} {...rest} />;\n};\n\nexport default PrivateRoute;\n","import gql from 'graphql-tag';\n// good example on auth header mutations: https://www.apollographql.com/docs/tutorial/mutations/\nexport const PRODUCTS = gql`\n  query {\n    products {\n      sku\n      name\n      category_id\n      category {\n        name\n      }\n      date_created\n      enabled\n      count\n      last_restock\n    }\n  }\n`;\n\nexport const CATEGORIES = gql`\n  query {\n    categories {\n      id\n      name\n      sku_code\n      products {\n        sku\n      }\n    }\n  }\n`;\n\n// mutations: https://devhoot.ooo/build-a-react-graphql-app-with-apollo-client-powered-by-hasura-engine/\nexport const ADD_PRODUCT = gql`\n  mutation(\n    $name: String!\n    $sku: String!\n    $count: Int!\n    $cat_id: Int!\n    $date_added: date!\n    $last_restock: date\n  ) {\n    insert_products(\n      objects: [\n        {\n          name: $name\n          sku: $sku\n          count: $count\n          category_id: $cat_id\n          date_created: $date_added\n          last_restock: $last_restock\n        }\n      ]\n    ) {\n      returning {\n        id\n      }\n    }\n  }\n`;\n\nexport const CATEGORIES_SUBSCRIPTION = gql`\n  subscription {\n    categories {\n      id\n      name\n      sku_code\n      products {\n        sku\n      }\n    }\n  }\n`;\n\nexport const PRODUCTS_SUBSCRIPTION = gql`\n  subscription {\n    products {\n      id\n      sku\n      name\n      category {\n        name\n      }\n      date_created\n      enabled\n      count\n      last_restock\n    }\n  }\n`;\n\nexport const DELETE_PRODUCT = gql`\n  mutation($id: Int!) {\n    delete_products(where: { id: { _eq: $id } }) {\n      returning {\n        sku\n      }\n    }\n  }\n`;\n\nexport const TOGGLE_ACTIVE = gql`\n  mutation($id: Int!, $enabled: Boolean!) {\n    update_products(where: { id: { _eq: $id } }, _set: { enabled: $enabled }) {\n      returning {\n        sku\n        enabled\n      }\n    }\n  }\n`;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { useMutation, useSubscription } from '@apollo/react-hooks';\nimport { TOGGLE_ACTIVE, PRODUCTS_SUBSCRIPTION } from '../components/queries';\n\nconst ProductTable = props => {\n  const { data, loading, error } = useSubscription(PRODUCTS_SUBSCRIPTION);\n  const [toggleActive] = useMutation(TOGGLE_ACTIVE);\n  if (loading) return 'Loading';\n  if (error) return `Error: ${error.message}`;\n  return (\n    <table>\n      <thead>\n        <tr>\n          <th>SKU</th>\n          <th>Name</th>\n          <th>Date Added</th>\n          <th>Enabled</th>\n          <th>Count</th>\n          <th>Last Restock Date</th>\n          <th></th>\n        </tr>\n      </thead>\n      <tbody>\n        {data.products.length > 0 ? (\n          data.products.map(product => (\n            <tr key={product.id}>\n              <td>{product.sku}</td>\n              <td>{product.name}</td>\n              <td>{product.date_created}</td>\n              <td>\n                <FontAwesomeIcon\n                  icon={product.enabled ? 'check' : 'times'}\n                  onClick={() =>\n                    toggleActive({\n                      variables: { id: product.id, enabled: !product.enabled }\n                    })\n                  }\n                />\n              </td>\n              <td>{product.count}</td>\n              <td>{product.last_restock}</td>\n              <td>\n                <Link\n                  to={{\n                    pathname: `/products/${product.id}`,\n                    state: {\n                      product: data.products.find(product => product.id)\n                    }\n                  }}\n                >\n                  <button>Details</button>\n                </Link>\n                <button\n                  onClick={() => props.editRow(product)}\n                  className='button muted-button'\n                >\n                  Edit\n                </button>\n                <button\n                  onClick={() =>\n                    console.log(\n                      props.deleteProduct({ variables: { id: product.id } })\n                    )\n                  }\n                  className='button muted-button'\n                >\n                  Delete\n                </button>\n              </td>\n            </tr>\n          ))\n        ) : (\n          <tr>\n            <td colSpan={8}>No products</td>\n          </tr>\n        )}\n      </tbody>\n    </table>\n  );\n};\n\nexport default ProductTable;\n","import React, { useState } from 'react';\r\nimport DatePicker from 'react-datepicker';\r\nimport { useMutation } from '@apollo/react-hooks';\r\nimport { ADD_PRODUCT } from '../../components/queries';\r\n\r\nconst AddProductForm = props => {\r\n  const categories = props.categoryList;\r\n  const today = new Date();\r\n  const initialFormState = {\r\n    id: null,\r\n    sku: '',\r\n    name: '',\r\n    category: '',\r\n    date: today.toLocaleDateString(),\r\n    enabled: true,\r\n    count: '',\r\n    restock: ''\r\n  };\r\n  const [addProduct] = useMutation(ADD_PRODUCT);\r\n  const [product, setProduct] = useState(initialFormState);\r\n  const [date, setDate] = useState(today);\r\n\r\n  const generateSKU = id => {\r\n    const category = categories.find(cat => {\r\n      return cat.id === id;\r\n    });\r\n    const skus = category.products.map(product => {\r\n      return parseInt(product.sku.substring(4));\r\n    });\r\n    const skuNumber = skus.length > 0 ? Math.max(...skus) + 1 : 1;\r\n    return category.sku_code.concat(skuNumber);\r\n  };\r\n\r\n  const handleInputChange = event => {\r\n    const { name, value } = event.target;\r\n\r\n    setProduct({ ...product, [name]: value });\r\n  };\r\n\r\n  const handleDateChange = date => {\r\n    setDate(date);\r\n\r\n    setProduct({ ...product, date: date.toLocaleDateString() });\r\n  };\r\n\r\n  return (\r\n    <form\r\n      autoComplete=\"off\"\r\n      onSubmit={event => {\r\n        event.preventDefault();\r\n        if (!product.name || !product.category || !product.count) return;\r\n        product.sku = generateSKU(parseInt(product.category));\r\n        product.restock = product.date;\r\n        addProduct({\r\n          variables: {\r\n            name: product.name,\r\n            sku: product.sku,\r\n            count: parseInt(product.count),\r\n            cat_id: parseInt(product.category),\r\n            date_added: product.date,\r\n            last_restock: product.restock\r\n          }\r\n        });\r\n        setProduct(initialFormState);\r\n\r\n        props.hide();\r\n      }}\r\n    >\r\n      <div className=\"flex-row\">\r\n        <div className=\"flex-large\">\r\n          <label>Name</label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"name\"\r\n            value={product.name}\r\n            onChange={handleInputChange}\r\n          />\r\n          <label>Date Added</label>\r\n          <DatePicker name=\"date\" selected={date} onChange={handleDateChange} />\r\n        </div>\r\n        <div className=\"flex-large\">\r\n          <label>Category</label>\r\n          <select\r\n            name=\"category\"\r\n            value={product.category}\r\n            onChange={handleInputChange}\r\n          >\r\n            <option value=\"\">Select a category</option>\r\n            {categories.map(category => (\r\n              <option key={category.sku_code} value={category.id}>\r\n                {category.name}\r\n              </option>\r\n            ))}\r\n          </select>\r\n          <label>Initial Count</label>\r\n          <input\r\n            type=\"number\"\r\n            name=\"count\"\r\n            value={product.count}\r\n            onChange={handleInputChange}\r\n          />\r\n        </div>\r\n      </div>\r\n      <button>Save</button>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default AddProductForm;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { useAuth0 } from '../react-auth0-spa';\r\n\r\nconst Header = props => {\r\n  const { logout } = useAuth0();\r\n\r\n  return (\r\n    <div className=\"header\">\r\n      <Link to={props.back}>\r\n        <FontAwesomeIcon icon=\"arrow-left\" size=\"2x\" />\r\n      </Link>\r\n      <button onClick={() => logout()}>Log out</button>\r\n      <h1>{props.title}</h1>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","//\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\n\r\nconst Modal = ({ isShowing, hide, title, content }) =>\r\n  isShowing\r\n    ? ReactDOM.createPortal(\r\n        <React.Fragment>\r\n          <div className=\"modal-overlay\" />\r\n          <div\r\n            className=\"modal-wrapper\"\r\n            aria-modal\r\n            aria-hidden\r\n            tabIndex={-1}\r\n            role=\"dialog\"\r\n          >\r\n            <div className=\"modal\">\r\n              <div className=\"modal-header\">\r\n                <h2>{title}</h2>\r\n                <FontAwesomeIcon\r\n                  icon=\"times\"\r\n                  data-dismiss=\"modal\"\r\n                  onClick={hide}\r\n                />\r\n              </div>\r\n              <div>{content}</div>\r\n            </div>\r\n          </div>\r\n        </React.Fragment>,\r\n        document.body\r\n      )\r\n    : null;\r\n\r\nexport default Modal;\r\n","//https://upmostly.com/tutorials/modal-components-react-custom-hooks\r\nimport { useState } from 'react';\r\n\r\nconst useModal = () => {\r\n  const [isShowing, setIsShowing] = useState(false);\r\n\r\n  function toggle() {\r\n    setIsShowing(!isShowing);\r\n  }\r\n\r\n  return {\r\n    isShowing,\r\n    toggle\r\n  };\r\n};\r\n\r\nexport default useModal;\r\n","import React, { useState, useEffect } from 'react';\r\n\r\nconst EditProductForm = props => {\r\n  const categories = [\r\n    { name: 'Lily', sku: 'lil' },\r\n    { name: 'Raphie', sku: 'rph' },\r\n    { name: 'Tiny', sku: 'tny' }\r\n  ];\r\n  const [product, setProduct] = useState(props.currentProduct);\r\n\r\n  const handleInputChange = event => {\r\n    const { name, value } = event.target;\r\n\r\n    setProduct({ ...product, [name]: value });\r\n  };\r\n\r\n  useEffect(() => {\r\n    setProduct(props.currentProduct);\r\n  }, [props]);\r\n\r\n  return (\r\n    <form\r\n      onSubmit={event => {\r\n        event.preventDefault();\r\n        console.log(product);\r\n        props.updateProduct(product.id, product);\r\n      }}\r\n    >\r\n      <div className=\"flex-row\">\r\n        <div className=\"flex-large\">\r\n          <label>Name</label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"name\"\r\n            value={product.name}\r\n            onChange={handleInputChange}\r\n          />\r\n        </div>\r\n        <div className=\"flex-large\">\r\n          <label>Category</label>\r\n          <select\r\n            name=\"category\"\r\n            value={product.category}\r\n            onChange={handleInputChange}\r\n          >\r\n            <option value=\"\">Select a category</option>\r\n            {categories.map(category => (\r\n              <option key={category.sku} value={category.name}>\r\n                {category.name}\r\n              </option>\r\n            ))}\r\n          </select>\r\n        </div>\r\n      </div>\r\n      <button>Update product</button>\r\n      <button\r\n        onClick={() => props.cancelUpdate()}\r\n        className=\"button muted-button\"\r\n      >\r\n        Cancel\r\n      </button>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default EditProductForm;\r\n","import React, { useState } from 'react';\nimport ProductTable from '../../tables/ProductTable';\nimport AddProductForm from '../../forms/products/AddProductForm';\nimport Header from '../../components/Header';\nimport Modal from '../../components/modal/Modal';\nimport useModal from '../../components/modal/useModal';\nimport EditProductForm from '../../forms/products/EditProductForm';\nimport { useSubscription, useMutation } from '@apollo/react-hooks';\nimport {\n  CATEGORIES_SUBSCRIPTION,\n  DELETE_PRODUCT\n} from '../../components/queries';\n\nconst CategorySubscription = () => {\n  const { data, loading, error } = useSubscription(CATEGORIES_SUBSCRIPTION);\n\n  if (loading) return 'Loading';\n  if (error) return `Error: ${error.message}`;\n  if (!data) return 'None found';\n\n  return data.categories;\n};\n\nconst Products = () => {\n  const categoriesData = CategorySubscription();\n  const productsData = [];\n\n  const [products, setProducts] = useState(productsData);\n  const { isShowing, toggle } = useModal();\n\n  const [deleteProduct] = useMutation(DELETE_PRODUCT);\n\n  const [editing, setEditing] = useState(false);\n  const initialFormState = { id: null, name: '', category: '' };\n  const [currentProduct, setCurrentProduct] = useState(initialFormState);\n\n  const editRow = product => {\n    setEditing(true);\n    toggle();\n    setCurrentProduct({\n      id: product.id,\n      name: product.name,\n      category: product.category\n    });\n  };\n\n  const updateProduct = (id, updatedProduct) => {\n    setEditing(false);\n    toggle();\n    setProducts(\n      products.map(product => (product.id === id ? updatedProduct : product))\n    );\n  };\n\n  const cancelUpdate = () => {\n    setEditing(false);\n    toggle();\n  };\n\n  const addProductForm = (\n    <AddProductForm hide={toggle} categoryList={categoriesData} />\n  );\n  const editProductForm = (\n    <EditProductForm\n      editing={editing}\n      cancelUpdate={cancelUpdate}\n      currentProduct={currentProduct}\n      updateProduct={updateProduct}\n    />\n  );\n\n  return (\n    <div className=\"full-container\">\n      <Header title=\"Products\" back=\"/\" />\n      <Modal\n        isShowing={isShowing}\n        hide={toggle}\n        title={editing ? 'Editing ' + currentProduct.name : 'Add a new product'}\n        content={editing ? editProductForm : addProductForm}\n      />\n      <div className=\"container\">\n        <button onClick={toggle}>Add new product</button>\n        <div className=\"flex-large\">\n          <ProductTable editRow={editRow} deleteProduct={deleteProduct} />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Products;\n","import React, { useState, useEffect } from 'react';\nimport Header from '../../components/Header';\nimport { useLocation } from 'react-router-dom';\nimport { Tab, Tabs, TabList, TabPanel } from 'react-tabs';\n\nconst Product = props => {\n  const initialProductState = {\n    product: {},\n    loading: true\n  };\n  const location = useLocation();\n\n  const [product, setProduct] = useState(initialProductState);\n\n  useEffect(() => {\n    const getProduct = async () => {\n      const data = location.state.product;\n      setProduct(data);\n    };\n\n    getProduct();\n  }, []);\n\n  return product.loading ? (\n    <div>Loading...</div>\n  ) : (\n    <div className='full-container'>\n      <Header title={product.sku} back='/products' />\n      <div className='container'>\n        <h2>Some data about {product.name}</h2>\n        <Tabs>\n          <TabList>\n            <Tab>Info</Tab>\n            <Tab>Trends</Tab>\n          </TabList>\n          <TabPanel>\n            <h2>hello</h2>\n          </TabPanel>\n          <TabPanel>\n            <h2>{product.count}</h2>\n          </TabPanel>\n        </Tabs>\n      </div>\n    </div>\n  );\n};\n\nexport default Product;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nconst EventTable = props => (\n  <table>\n    <thead>\n      <tr>\n        <th>Name</th>\n        <th>Location</th>\n        <th>Date</th>\n        <th></th>\n      </tr>\n    </thead>\n    <tbody>\n      {props.events.length > 0 ? (\n        props.events.map(event => (\n          <tr key={event.id}>\n            <td>{event.name}</td>\n            <td>{event.location}</td>\n            <td>{event.date}</td>\n            <td>\n              <Link to={'/events/' + event.id}>\n                <button>Sales</button>\n              </Link>\n              <button\n                onClick={() => props.editRow(event)}\n                className=\"button muted-button\"\n              >\n                Edit\n              </button>\n              <button\n                onClick={() => props.deleteEvent(event.id)}\n                className=\"button muted-button\"\n              >\n                Delete\n              </button>\n            </td>\n          </tr>\n        ))\n      ) : (\n        <tr>\n          <td colSpan={4}>No events</td>\n        </tr>\n      )}\n    </tbody>\n  </table>\n);\n\nexport default EventTable;\n","import React, { useState } from 'react';\nimport EventTable from '../../tables/EventTable';\nimport Header from '../../components/Header';\n\nconst Events = () => {\n  const eventsData = [\n    { id: 1, name: 'a convention', location: 'los angeles', date: 'april' },\n    {\n      id: 2,\n      name: 'another convention',\n      location: 'sacramento',\n      date: 'february'\n    },\n    { id: 3, name: 'convention', location: 'fresno', date: 'asdf' },\n    { id: 4, name: 'aon', location: 'new york city', date: 'date' },\n    { id: 5, name: 'convosid', location: 'seattle', date: '02/31/2020' },\n    { id: 6, name: 'dallasconvention', location: 'dallas', date: '9' },\n    {\n      id: 7,\n      name: 'RTX',\n      location: 'austin',\n      date: 'twelve twelve twentytwenty'\n    },\n    { id: 8, name: 'zotzotzot', location: 'irvine', date: 'pog' },\n    { id: 9, name: 'AX', location: 'los angeles', date: 'sad' }\n  ];\n\n  const [events, setEvents] = useState(eventsData);\n\n  const deleteEvent = id => {\n    setEvents(events.filter(event => event.id !== id));\n  };\n\n  return (\n    <div className=\"full-container\">\n      <Header title=\"Events\" back=\"/\" />\n      <div className=\"container\">\n        <button>Add new event</button>\n        <div className=\"flex-large\">\n          <EventTable events={events} deleteEvent={deleteEvent} />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Events;\n","import React, { useState, useEffect } from 'react';\n//import SalesTable from '../../tables/SalesTable'\nimport Header from '../../components/Header';\n\nconst Sales = props => {\n  const eventId = props.match.params.id;\n\n  console.log('fetching ' + eventId);\n  const initialEventSalesState = {\n    eventSales: {},\n    loading: true\n  };\n\n  const salesData = [\n    {\n      id: 1,\n      day: 2,\n      items: ['sku-1', 'sku-3'],\n      total: 20,\n      cc: true,\n      female: false\n    }\n  ];\n\n  const [sales, setSales] = useState(initialEventSalesState);\n\n  useEffect(() => {\n    const getSales = async () => {\n      // should have await function getting sales for id\n      const data = salesData;\n\n      setSales(data);\n    };\n    getSales();\n  }, []);\n\n  const deleteSale = id => {\n    setSales(sales.filter(sale => sale.id !== id));\n  };\n\n  return (\n    <div className=\"full-container\">\n      <Header title={'Sales for event ' + eventId} back=\"/events\" />\n      <div className=\"container\">\n        <button>Add new sale</button>\n        <div className=\"flex-large\">\n          {/* <SalesTable sales={sales} deleteSale={deleteSale} /> */}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Sales;\n","import React from 'react';\nimport { Route, Switch } from 'react-router-dom';\nimport { useAuth0 } from './react-auth0-spa';\nimport Home from './views/Home';\nimport Login from './views/Login';\nimport Users from './views/Users';\nimport PrivateRoute from './components/PrivateRoute';\nimport Products from './views/products/Products';\nimport Product from './views/products/Product';\nimport Events from './views/events/Events';\nimport Sales from './views/sales/Sales';\n\nconst App = () => {\n  const { isAuthenticated, loading } = useAuth0();\n\n  if (loading) {\n    return <div>Loading...</div>;\n  }\n  return (\n    <Switch>\n      {!isAuthenticated && <Route exact path=\"/\" component={Login} />}\n      {isAuthenticated && <Route exact path=\"/\" component={Home} />}\n      <PrivateRoute path=\"/users\" component={Users} />\n      <PrivateRoute exact path=\"/products\" component={Products} />\n      <PrivateRoute path=\"/products/:id\" component={Product} />\n      <PrivateRoute exact path=\"/events\" component={Events} />\n      <PrivateRoute path=\"/events/:id\" component={Sales} />\n    </Switch>\n  );\n};\n\nexport default App;\n","import { createBrowserHistory } from 'history';\nexport default createBrowserHistory();\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport { library } from '@fortawesome/fontawesome-svg-core';\nimport {\n  faCheck,\n  faTimes,\n  faCoffee,\n  faArrowLeft\n} from '@fortawesome/free-solid-svg-icons';\nimport './index.css';\nimport 'react-datepicker/dist/react-datepicker.css';\nimport App from './App';\n// import * as serviceWorker from \"./serviceWorker\";\nimport { Auth0Provider } from './react-auth0-spa';\nimport { GraphQLProvider } from './GraphQLProvider';\nimport config from './auth_config.json';\nimport history from './utils/history';\n\n// A function that routes the user to the right place\n// after login\nconst onRedirectCallback = appState => {\n  history.push(\n    appState && appState.targetUrl\n      ? appState.targetUrl\n      : window.location.pathname\n  );\n};\n\nlibrary.add(faCheck, faTimes, faCoffee, faArrowLeft);\n\nReactDOM.render(\n  <BrowserRouter basename={process.env.PUBLIC_URL}>\n    <Auth0Provider\n      domain={config.domain}\n      client_id={config.clientId}\n      audience={'https://nekoma.auth0.com/api/v2/'}\n      redirect_uri={'https://tedzchu.com/nekoma-frontend/'}\n      onRedirectCallback={onRedirectCallback}\n    >\n      <GraphQLProvider>\n        <App />\n      </GraphQLProvider>\n    </Auth0Provider>\n  </BrowserRouter>,\n  document.getElementById('root')\n);\n\n// serviceWorker.unregister();\n","import React from 'react';\nimport ApolloClient from 'apollo-client';\nimport { ApolloProvider } from '@apollo/react-hooks';\nimport { useAuth0 } from './react-auth0-spa';\n\n// Setup the network \"links\"\nimport { WebSocketLink } from 'apollo-link-ws';\nimport { HttpLink } from 'apollo-link-http';\nimport { split, ApolloLink, Observable } from 'apollo-link';\nimport { getMainDefinition } from 'apollo-utilities';\nimport { InMemoryCache } from 'apollo-cache-inmemory';\n\n// https://github.com/auth0-samples/auth0-javascript-samples/issues/79\n// https://github.com/vonkanehoffen/planning-alerts/blob/master/frontend-web/src/GraphQLProvider.js\n\n/**\n * Apollo Provider with Auth0 token.\n * @param children\n * @returns {*}\n * @constructor\n */\nexport const GraphQLProvider = ({ children }) => {\n  const { loading, isAuthenticated, getTokenSilently } = useAuth0();\n  if (loading) {\n    return <div>Loading...</div>;\n  }\n\n  // https://github.com/apollographql/apollo-client/issues/3967#issuecomment-450255702\n  const wsLink = new WebSocketLink({\n    uri: 'wss://nekoma.herokuapp.com/v1/graphql',\n    options: {\n      reconnect: true,\n      connectionParams: async () => {\n        const token = isAuthenticated ? await getTokenSilently() : null;\n        return {\n          headers: {\n            authorization: token ? `Bearer ${token}` : undefined\n          }\n        };\n      }\n    }\n  });\n\n  const httpLink = new HttpLink({\n    uri: 'https://nekoma.herokuapp.com/v1/graphql'\n  });\n\n  const request = async operation => {\n    const token = isAuthenticated ? await getTokenSilently() : null;\n    operation.setContext({\n      headers: {\n        authorization: token ? `Bearer ${token}` : undefined\n      }\n    });\n  };\n\n  const requestLink = new ApolloLink(\n    (operation, forward) =>\n      new Observable(observer => {\n        let handle;\n        Promise.resolve(operation)\n          .then(oper => request(oper))\n          .then(() => {\n            handle = forward(operation).subscribe({\n              next: observer.next.bind(observer),\n              error: observer.error.bind(observer),\n              complete: observer.complete.bind(observer)\n            });\n          })\n          .catch(observer.error.bind(observer));\n\n        return () => {\n          if (handle) handle.unsubscribe();\n        };\n      })\n  );\n\n  const link = split(\n    // split based on operation type\n    ({ query }) => {\n      const { kind, operation } = getMainDefinition(query);\n      return kind === 'OperationDefinition' && operation === 'subscription';\n    },\n    wsLink,\n    httpLink\n  );\n\n  const client = new ApolloClient({\n    link: ApolloLink.from([requestLink, link]),\n    cache: new InMemoryCache()\n    // uri: 'https://nekoma.herokuapp.com/v1/graphql',\n  });\n\n  return <ApolloProvider client={client}>{children}</ApolloProvider>;\n};\n"],"sourceRoot":""}